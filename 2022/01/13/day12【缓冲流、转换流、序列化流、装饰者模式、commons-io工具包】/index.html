<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>day12【缓冲流、转换流、序列化流、装饰者模式、commons-io工具包】 | Jason</title><meta name="keywords" content="字符流,编码表,对象流,装饰者模式,commons-io工具包"><meta name="author" content="高明辉"><meta name="copyright" content="高明辉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="day12-编码表,字符流,对象流,其他流ps：我们用的idea上默认的编码为utf-8哈。 学习内容： 编码表 字符输出流 字符输入流 字符缓冲流 转换流 对象操作流 打印流 装饰模式 commons-io  jar包  学习的知识框架见如下思维导图，点击放大看高清图哦！！！！！！！！！  1 编码表1.1 思考： 既然字节流可以操作所有文件，那么为什么还要学习字符流 ？（为什么会出现下面 现象">
<meta property="og:type" content="article">
<meta property="og:title" content="day12【缓冲流、转换流、序列化流、装饰者模式、commons-io工具包】">
<meta property="og:url" content="http://example.com/2022/01/13/day12%E3%80%90%E7%BC%93%E5%86%B2%E6%B5%81%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81%E3%80%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E3%80%81%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%81commons-io%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%91/index.html">
<meta property="og:site_name" content="Jason">
<meta property="og:description" content="day12-编码表,字符流,对象流,其他流ps：我们用的idea上默认的编码为utf-8哈。 学习内容： 编码表 字符输出流 字符输入流 字符缓冲流 转换流 对象操作流 打印流 装饰模式 commons-io  jar包  学习的知识框架见如下思维导图，点击放大看高清图哦！！！！！！！！！  1 编码表1.1 思考： 既然字节流可以操作所有文件，那么为什么还要学习字符流 ？（为什么会出现下面 现象">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/4.gif">
<meta property="article:published_time" content="2022-01-13T12:14:46.000Z">
<meta property="article:modified_time" content="2022-03-06T09:43:51.420Z">
<meta property="article:author" content="高明辉">
<meta property="article:tag" content="字符流">
<meta property="article:tag" content="编码表">
<meta property="article:tag" content="对象流">
<meta property="article:tag" content="装饰者模式">
<meta property="article:tag" content="commons-io工具包">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/4.gif"><link rel="shortcut icon" href="/img/%E7%BD%91%E7%AB%99%E5%9B%BE%E6%A0%87.png"><link rel="canonical" href="http://example.com/2022/01/13/day12%E3%80%90%E7%BC%93%E5%86%B2%E6%B5%81%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81%E3%80%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E3%80%81%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%81commons-io%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%91/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'day12【缓冲流、转换流、序列化流、装饰者模式、commons-io工具包】',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-06 17:43:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Jason" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E5%A4%B4%E5%83%8F.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">162</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">197</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">32</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/4.gif')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jason</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">day12【缓冲流、转换流、序列化流、装饰者模式、commons-io工具包】</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-13T12:14:46.000Z" title="发表于 2022-01-13 20:14:46">2022-01-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-06T09:43:51.420Z" title="更新于 2022-03-06 17:43:51">2022-03-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/">java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="day12【缓冲流、转换流、序列化流、装饰者模式、commons-io工具包】"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="day12-编码表-字符流-对象流-其他流"><a href="#day12-编码表-字符流-对象流-其他流" class="headerlink" title="day12-编码表,字符流,对象流,其他流"></a>day12-编码表,字符流,对象流,其他流</h1><p>ps：我们用的idea上默认的编码为utf-8哈。</p>
<h2 id="学习内容："><a href="#学习内容：" class="headerlink" title="学习内容："></a>学习内容：</h2><ul>
<li><h5 id="编码表"><a href="#编码表" class="headerlink" title="编码表"></a>编码表</h5></li>
<li><h5 id="字符输出流"><a href="#字符输出流" class="headerlink" title="字符输出流"></a>字符输出流</h5></li>
<li><h5 id="字符输入流"><a href="#字符输入流" class="headerlink" title="字符输入流"></a>字符输入流</h5></li>
<li><h5 id="字符缓冲流"><a href="#字符缓冲流" class="headerlink" title="字符缓冲流"></a>字符缓冲流</h5></li>
<li><h5 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h5></li>
<li><h5 id="对象操作流"><a href="#对象操作流" class="headerlink" title="对象操作流"></a>对象操作流</h5></li>
<li><h5 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h5></li>
<li><h5 id="装饰模式"><a href="#装饰模式" class="headerlink" title="装饰模式"></a>装饰模式</h5></li>
<li><h5 id="commons-io-jar包"><a href="#commons-io-jar包" class="headerlink" title="commons-io  jar包"></a>commons-io  jar包</h5></li>
</ul>
<p>学习的知识框架见如下思维导图，点击放大看高清图哦！！！！！！！！！</p>
<p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/day12.png" alt="day12"></p>
<h2 id="1-编码表"><a href="#1-编码表" class="headerlink" title="1 编码表"></a>1 编码表</h2><h3 id="1-1-思考："><a href="#1-1-思考：" class="headerlink" title="1.1 思考："></a>1.1 思考：</h3><ul>
<li>既然字节流可以操作所有文件，那么<strong>为什么还要学习字符流</strong> ？（为什么会出现下面 现象？？？？？？？？？？？这就关系到编码跟解码啦。）<ul>
<li>如果使用字节流 , 把文本文件中的内容读取到内存时, 可能会<strong>出现乱码</strong>（一定会出现乱码，因为<strong>中文是多字节存储</strong>的）</li>
<li>如果使用字节流 , 把中文写入文本文件中 , 也有可能会出现乱码（<strong>编码格式要对应</strong>）</li>
</ul>
</li>
</ul>
<h3 id="1-2-编码表介绍"><a href="#1-2-编码表介绍" class="headerlink" title="1.2 编码表介绍"></a>1.2 编码表介绍</h3><ul>
<li><p>计算机中储存的信息都是用<strong>二进制</strong>数据表示的；我们在屏幕上看到的英文、汉字等字符是二进制数转换之后的结果</p>
</li>
<li><p>按照编码表规则，将字符存储到计算机中，称为<strong>编码</strong>。</p>
</li>
<li><p>按照同样的编码表规则，将存储在计算机中的二进制数据解析显示出来，称为<strong>解码</strong> 。</p>
</li>
<li><p>编码和解码使用的码表必须一致，否则会导致<strong>乱码</strong>。</p>
</li>
<li><h5 id="简单理解："><a href="#简单理解：" class="headerlink" title="简单理解："></a>简单理解：</h5><ul>
<li>存储一个字符a，首先需在码表中查到对应的数字是97，然后按照转换成二进制的规则进行存储。称为编码    </li>
<li>读取的时候，先把二进制解析出来，再转成97，通过97查找早码表中对应的字符是a。称为<strong>解码</strong></li>
</ul>
</li>
<li><h5 id="ASCII码表："><a href="#ASCII码表：" class="headerlink" title="ASCII码表："></a>ASCII码表：</h5><ul>
<li>ASCII(American Standard Code for Information Interchange，美国信息交换标准码表)：</li>
<li>包括了数字字符，英文大小写字符和一些常见的标点符号字符。</li>
<li>注意：<strong>ASCII码表中是没有中文</strong>的。</li>
</ul>
<p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/1.png" alt="1"></p>
</li>
<li><h5 id="GBK码表："><a href="#GBK码表：" class="headerlink" title="GBK码表："></a>GBK码表：</h5><ul>
<li><strong>window系统默认的码表</strong>。兼容ASCII码表，也包含了<strong>21003个汉字</strong>，并<strong>支持繁体汉字以及部分日韩文字</strong></li>
<li>注意：<strong>GBK是中国的码表</strong>，一个中文以<strong>两个字节</strong>的形式存储。但不包含世界上所有国家的文字。</li>
</ul>
</li>
<li><h5 id="Unicode码表："><a href="#Unicode码表：" class="headerlink" title="Unicode码表："></a>Unicode码表：</h5><ul>
<li>由国际组织ISO 制定，是统一的<strong>万国码表</strong>，计算机科学领域里的一项业界标准，容纳世界上大多数国家的所有常见文字和符号。</li>
<li>但是因为表示的字符太多，所以Unicode码表中的数字不是直接以二进制的形式存储到计算机的，会先通过UTF-7，UTF-7.5，UTF-8，UTF-16，以及 UTF-32的<strong>编码方式</strong>再存储到计算机，其中最为常见的就是<strong>UTF-8</strong>。</li>
<li>注意： Unicode是万国码表，以UTF-8编码后<strong>一个中文以三个字节</strong>的形式存储</li>
<li><strong>总结：</strong>UTF-8只是Unicode码表上的数字与存储在计算机上的二进制数之间的一种映射关系（编码，解码方式，一般直接称为编码方式），即utf-8是一种编码方式，unicode是一张表。（包含了各国的码表）</li>
</ul>
</li>
</ul>
<h3 id="1-3-编码表小结"><a href="#1-3-编码表小结" class="headerlink" title="1.3 编码表小结"></a>1.3 编码表小结</h3><p>下面图并不是说ASCLL包含了后面 三者，而是说，由前者延伸出来后面三者，后三种都包含都<strong>适配了ASCLL 码表</strong>哈（<strong>因此即使具体编码不同，但是数字和字母不会乱码哈</strong>）。然后各国的码表统一为Unicode码表。</p>
<p>然后unicode码表上的码（数字）转为二进制给计算机存储时，先经过一种编码方式（一般为utf-8)</p>
<p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/2.png" alt="2"></p>
<p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/3.png" alt="3"></p>
<p>小tips：GBK和Unicode（以utf-8为代表），都是码表，也可以说是编码方式哈。</p>
<p>其中<strong>GBK编码中，汉字体为两个字节，UTF-8中汉字为三个字节</strong>。而乱码时我们一般更改的就是这两种方式。</p>
<h3 id="1-4-字节流读中文出现乱码的原码"><a href="#1-4-字节流读中文出现乱码的原码" class="headerlink" title="1.4 字节流读中文出现乱码的原码"></a>1.4 字节流读中文出现乱码的原码</h3><ul>
<li>因为字节流一次读一个字节，而<strong>不管GBK还是UTF-8一个中文都是多个字节，用字节流每次只能读其中的一部分</strong>，所以就会出现乱码问题</li>
<li>注意：读取跟拷贝不同哦，用字节流<strong>拷贝文件时就不会出现乱码</strong>。因为按照字节拷贝文件，准确拷贝过去了，解析时还是按照文件具体格式来。</li>
</ul>
<h2 id="2-字符输出流"><a href="#2-字符输出流" class="headerlink" title="2 字符输出流"></a>2 字符输出流</h2><h3 id="2-1-字符流输出介绍"><a href="#2-1-字符流输出介绍" class="headerlink" title="2.1 字符流输出介绍"></a>2.1 字符流输出介绍</h3><ul>
<li><h5 id="1：Writer类"><a href="#1：Writer类" class="headerlink" title="1：Writer类"></a>1：Writer类</h5><ul>
<li>写入字符流的最顶层的类 , 是一个抽象类 ,不能实例化 , 需要使用其子类<strong>FileWriter</strong>类</li>
</ul>
</li>
<li><h5 id="FileWriter类-用来写入字符文件的便捷类"><a href="#FileWriter类-用来写入字符文件的便捷类" class="headerlink" title="FileWriter类  : 用来写入字符文件的便捷类"></a>FileWriter类  : 用来写入字符文件的便捷类</h5></li>
</ul>
<h3 id="2-2-FileWriter的成员"><a href="#2-2-FileWriter的成员" class="headerlink" title="2.2 FileWriter的成员"></a>2.2 FileWriter的成员</h3><ul>
<li><p>构造方法 : </p>
<ul>
<li>  public FileWriter(File file) : 往指定的File路径中写入数据</li>
<li>  public FileWriter(String fileName) : 往指定的String路径中写入数据；一般用这个构造方法吧。</li>
<li>  public FileWriter(String filename,boolean append):#####追加的形式哈。</li>
</ul>
</li>
<li><p>成员方法 : </p>
<ul>
<li><table>
<thead>
<tr>
<th>1：void write(int c)</th>
<th>写一个字符</th>
</tr>
</thead>
<tbody><tr>
<td>2：void write(char[] cbuf)</td>
<td>写入一个字符数组</td>
</tr>
<tr>
<td>3：void write(char[] cbuf, int off, int len)</td>
<td>写入字符数组的一部分</td>
</tr>
<tr>
<td>4：void write(String str)</td>
<td>写一个字符串</td>
</tr>
<tr>
<td>5：void write(String str, int off, int len)</td>
<td>写一个字符串的一部分</td>
</tr>
</tbody></table>
<p>这里区别字节流：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1</span> <span class="string">可以直接写字符串，不用转字符数组</span></span><br><span class="line"><span class="attr">2</span> <span class="string">字符串也是可以偏置哦。</span></span><br><span class="line"><span class="attr">3</span> <span class="string">是字符数组，而不是字节数组</span></span><br><span class="line"><span class="attr">4</span> <span class="string">String参数时，中文随便写哈哈。</span></span><br></pre></td></tr></table></figure></li>
<li><table>
<thead>
<tr>
<th>flush()</th>
<th>刷新流，还可以继续写数据（如果有大量数据的话，要一边写一边刷新，不能指望一次性写完再close自动刷新）</th>
</tr>
</thead>
<tbody><tr>
<td>close()</td>
<td>关闭流，释放资源，但是在<strong>关闭之前会先刷新流</strong>。一旦关闭，就不能再写数据（<strong>少量数据是可以不用flush，用close就可以了</strong>。）</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h3 id="2-3-FileWriter写数据的步骤"><a href="#2-3-FileWriter写数据的步骤" class="headerlink" title="2.3 FileWriter写数据的步骤"></a>2.3 FileWriter写数据的步骤</h3><ul>
<li><h5 id="1-创建字符输出流对象"><a href="#1-创建字符输出流对象" class="headerlink" title="1 创建字符输出流对象"></a>1 创建字符输出流对象</h5><ul>
<li>注意事项：<pre><code>如果文件不存在，就创建。**但是要保证父级路径存在**。
如果文件存在就**清空**（可以追加写入呗，笨蛋）
</code></pre>
</li>
</ul>
</li>
<li><h5 id="2-写数据"><a href="#2-写数据" class="headerlink" title="2 写数据"></a>2 写数据</h5><ul>
<li>注意事项：<pre><code>写出**int类型的整数**，实际写出的是整数在码表上**对应的字母**。
写出**字符串**数据，是把字符串本身**原样**写出。
</code></pre>
</li>
</ul>
</li>
<li><h5 id="3-释放资源"><a href="#3-释放资源" class="headerlink" title="3 释放资源"></a>3 释放资源</h5><ul>
<li>注意事项：<pre><code>每次使用完流必须要释放资源。
</code></pre>
</li>
</ul>
</li>
<li><p>```java<br>package com.itheima.writer_demo;<br>import java.io.FileWriter;<br>import java.io.IOException;</p>
<p>/*<br>步骤：1： 创对象  2 ：写入（可选择追加）  3 ：刷新流 4 ： 关闭流。<br> */<br>public class WriterDemo1 {</p>
<pre><code>public static void main(String[] args) throws IOException &#123;
    FileWriter fw = new FileWriter(&quot;day12_demo\\charstream2.txt&quot;);
    // 写数据
    //1
    fw.write(&#39;a&#39;);
    fw.write(&#39;b&#39;);
    //char也能保存字符，奇了怪了。
    char[] chs = &#123;&#39;a&#39;, &#39;b&#39;, &#39;您&#39;, &#39;好&#39;, &#39;e&#39;&#125;;
    //2
    fw.write(chs);
    //3
    fw.write(chs , 2 , 3);
    //4
    fw.write(&quot;abcadaasd哈哈哈a&quot;);
    //5s
    fw.write(&quot;\r\n&quot;);
    fw.write(&quot;g高明辉&quot;, 0, 3);//这里的偏置指的是字符个数，而不是字节个数哦。
    //abab您好e您好eabcadaasd哈哈哈a
    //g高明
    fw.flush();
    // 释放资源
    // 关闭流 , 但是会先刷新流
    fw.close();
    // 一旦关闭流无法写数据
    // fw.write(&#39;c&#39;);
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"></span><br><span class="line">### 2.4 字符输出流练习</span><br><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  package com.itheima.writer_demo;</span><br><span class="line">  import java.io.FileWriter;</span><br><span class="line">  import java.io.IOException;</span><br><span class="line">  import java.util.Scanner;</span><br><span class="line">  /*</span><br><span class="line">      需求 : 将用户键盘录入的用户名和密码保存到本地实现永久化存储。</span><br><span class="line">      要求 : 用户名和密码在文件中各占一行</span><br><span class="line">      步骤：</span><br><span class="line">          1 用户键盘录入用户名</span><br><span class="line">          2 创建字符输出流对象</span><br><span class="line">          3 将用户名和密码写到本地文件中</span><br><span class="line">   */</span><br><span class="line">  public class WriterTest &#123;</span><br><span class="line">      public static void main(String[] args) throws IOException &#123;</span><br><span class="line">          Scanner sc = new Scanner(System.in);</span><br><span class="line">          System.out.println(&quot;请输入用户名:&quot;);</span><br><span class="line">          String username = sc.nextLine();</span><br><span class="line">          System.out.println(&quot;请输入密码:&quot;);</span><br><span class="line">          String password = sc.nextLine();</span><br><span class="line">          // 创建字符输出流对象</span><br><span class="line">          FileWriter fw = new FileWriter(&quot;day12_demo\\user.txt&quot;);</span><br><span class="line">          // 往文件中写入用户名和密码</span><br><span class="line">          fw.write(username);</span><br><span class="line">          // 换行</span><br><span class="line">          fw.write(&quot;\r\n&quot;);</span><br><span class="line">          fw.write(password);</span><br><span class="line">          // 刷新</span><br><span class="line">          fw.flush();</span><br><span class="line">          // 释放资源</span><br><span class="line">          fw.close();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  /*</span><br><span class="line">  高明辉</span><br><span class="line">  jasonzhang</span><br><span class="line">  */</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-字符输入流"><a href="#3-字符输入流" class="headerlink" title="3 字符输入流"></a>3 字符输入流</h2><h3 id="3-1-字节输入流介绍"><a href="#3-1-字节输入流介绍" class="headerlink" title="3.1 字节输入流介绍"></a>3.1 字节输入流介绍</h3><ul>
<li><strong>Reader</strong>类 : <ul>
<li>读取字符流的最顶层的类 , 是一个抽象类 ,不能实例化</li>
<li>需要使用其子类FileReader类</li>
</ul>
</li>
<li><strong>FileReader</strong>类 : <ul>
<li>用来读取字符文件的便捷类</li>
</ul>
</li>
</ul>
<h3 id="3-2-FileReader的成员"><a href="#3-2-FileReader的成员" class="headerlink" title="3.2  FileReader的成员"></a>3.2  FileReader的成员</h3><ul>
<li><p>构造方法 :</p>
<ul>
<li>public <strong>FileReader</strong>(File file) : 从指定的File路径中读取数据</li>
<li>public <strong>FileReader</strong>(String fileName) : 从指定的String路径中读取数据</li>
</ul>
</li>
<li><p>成员方法 :</p>
<ul>
<li><table>
<thead>
<tr>
<th>int read()</th>
<th>一次读一个字符数据（当然可以是中文字符哈哈哈）</th>
</tr>
</thead>
<tbody><tr>
<td>int read(char[] cbuf)</td>
<td>一次读一个字符数组数据   <strong>len 表示实际读取到的字符个数！！！</strong></td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>```java<br>package com.itheima.reader_demo;<br>import java.io.FileReader;<br>import java.io.IOException;<br>public class ReaderDemo1 {</p>
<pre><code>public static void main(String[] args) throws IOException &#123;
    // 创建字符输入流对象
    FileReader fr = new FileReader(&quot;day12_demo\\charstream2.txt&quot;);

    // 一次读一个字符数据
    int ch;
    while ((ch = fr.read()) != -1) &#123;
        System.out.print((char) ch);
    &#125;
    // 释放资源
    fr.close();

    System.out.println();
    System.out.println(&quot;================&quot;);
    //要先关闭然后重新打开，因为上面对象读取已经到文末了。
    FileReader fr1 = new FileReader(&quot;day12_demo\\charstream2.txt&quot;);
    // 一次读一个字符数组数据
    char[]chs = new char[1024];
    int len;// len 表示实际读取到的字符个数！！！**
    while((len=fr1.read(chs))!=-1)&#123;
        System.out.println(new String(chs, 0, len));
    &#125;
    fr1.close();
&#125;
</code></pre>
<p>}<br>/*<br>abab您好e您好eabcadaasd哈哈哈a</p>
<h1 id="g高明"><a href="#g高明" class="headerlink" title="g高明"></a>g高明</h1><p>abab您好e您好eabcadaasd哈哈哈a<br>g高明<br> */</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">## 4 字符缓冲流</span><br><span class="line"></span><br><span class="line">### 4.1 字符缓冲流</span><br><span class="line"></span><br><span class="line">- BufferedWriter：可以将数据高效的写出</span><br><span class="line">- BufferedReader：可以将数据高效的读入到内存</span><br><span class="line">- 注意 :  字符缓冲流**不具备读写功能** , 只提供缓冲区 , 真正读写还是需要依赖于构造接收的基本的字符流</span><br><span class="line">- 构造方法：</span><br><span class="line">  -   public  BufferedWriter(Writer out) : 构造方法中需要接收一个基本的字符输出流</span><br><span class="line">  -   public BufferedReader(Reader in) : 构造方法中需要接收一个基本的字符输入流</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">package com.itheima.bufferedstream_demo;</span><br><span class="line">import java.io.*;</span><br><span class="line">/*</span><br><span class="line">    需求 : 使用字符缓冲流复制纯文本文件</span><br><span class="line">    ‘斗罗大陆.txt’ 复制为&#x27;斗罗大陆copy.txt&#x27;</span><br><span class="line"> */</span><br><span class="line">public class BufferedStreamDemo1 &#123;</span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        // 创建高效的字符输入流对象</span><br><span class="line">        BufferedReader br = new BufferedReader(new FileReader(&quot;day12_demo\\斗罗大陆.txt&quot;));</span><br><span class="line">        // 创建高效的字符输出流对象</span><br><span class="line">        BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;day12_demo\\斗罗大陆copy.txt&quot;));</span><br><span class="line"></span><br><span class="line">        // 一次读写一个字符数组</span><br><span class="line">        char[] chs = new char[1024];</span><br><span class="line">        int len;</span><br><span class="line">        while ((len = br.read(chs)) != -1) &#123;</span><br><span class="line">            bw.write(chs, 0, len);</span><br><span class="line">        &#125;</span><br><span class="line">        // 释放资源</span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-2-字符缓冲流特有的功能"><a href="#4-2-字符缓冲流特有的功能" class="headerlink" title="4.2 字符缓冲流特有的功能"></a>4.2 字符缓冲流特有的功能</h3><ul>
<li><h5 id="BufferedWriter类"><a href="#BufferedWriter类" class="headerlink" title="BufferedWriter类"></a>BufferedWriter类</h5><ul>
<li>void <strong>newLine</strong>()：写一个<strong>行分隔符</strong>，会根据操作系统的不同,写入不同的行分隔符</li>
</ul>
</li>
<li><h5 id="BufferedReader类"><a href="#BufferedReader类" class="headerlink" title="BufferedReader类"></a>BufferedReader类</h5><ul>
<li>public String <strong>readLine</strong>() ：<strong>读取文件一行数据</strong>, <strong>不包含换行符号</strong> ,  读到文件的末尾返回null</li>
<li>因此，截止到这里，复制粘贴一个文本文档可以有五种方式。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="number">1</span> 普通的一个字符(字节)</span><br><span class="line">- <span class="number">2</span> 一个字符数组(字节)</span><br><span class="line">- <span class="number">3</span> 高效的一个字符(字节)</span><br><span class="line">- <span class="number">4</span> 高效的一个字符数组(字节) </span><br><span class="line">- <span class="number">5</span> 高效的一行。</span><br></pre></td></tr></table></figure>

<p>下面演示高效一行的写入以及读取：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.bufferedstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        远桥之下泛莲舟</span></span><br><span class="line"><span class="comment">        岱岩石上松溪流</span></span><br><span class="line"><span class="comment">        万仞翠山梨亭在</span></span><br><span class="line"><span class="comment">        莫闻空谷声悠悠</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedStreamDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 创建高效的字符输出流对象</span></span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(</span><br><span class="line">                <span class="keyword">new</span> FileWriter(<span class="string">&quot;day12_demo\\七言绝句.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        bw.write(<span class="string">&quot;远桥之下泛莲舟&quot;</span>);</span><br><span class="line">        <span class="comment">//写一个行分隔符，会根据操作系统的不同,写入不同的行分隔符</span></span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;岱岩石上松溪流&quot;</span>);</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;万仞翠山梨亭在&quot;</span>);</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;莫闻空谷声悠悠&quot;</span>);</span><br><span class="line">        bw.flush();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建高效的字符输入流对象</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">                <span class="keyword">new</span> FileReader(<span class="string">&quot;day12_demo\\七言绝句.txt&quot;</span>));</span><br><span class="line">        <span class="comment">//读取文件一行数据, 不包含换行符号 ,  读到文件的末尾返回null</span></span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span>((line=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 释放资源</span></span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-3-字符缓冲流练习"><a href="#4-3-字符缓冲流练习" class="headerlink" title="4.3 字符缓冲流练习"></a>4.3 字符缓冲流练习</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.bufferedstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    需求：读取文件中的数据 : 33 22 11 55 44</span></span><br><span class="line"><span class="comment">    排序后 : 11 22 33 44 55  再次写到本地文件</span></span><br><span class="line"><span class="comment">    步骤 :</span></span><br><span class="line"><span class="comment">        1 创建高效的字符输入流对象</span></span><br><span class="line"><span class="comment">        2 读取文件中的一行数据</span></span><br><span class="line"><span class="comment">        3 将数据按照空格切割</span></span><br><span class="line"><span class="comment">        4 把字符串数组转成int类型数组</span></span><br><span class="line"><span class="comment">        5 对int类型的数组进行排序</span></span><br><span class="line"><span class="comment">        6 创建高效的字符输出流对象</span></span><br><span class="line"><span class="comment">        7 遍历数组,把数组中的数据写入到文件中</span></span><br><span class="line"><span class="comment">        8 释放资源</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedStreamDemo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1 创建高效的字符输入流对象</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">                <span class="keyword">new</span> FileReader(<span class="string">&quot;day12_demo\\sort.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// 2 读取文件中的一行数据</span></span><br><span class="line">        String line = br.readLine();</span><br><span class="line">        <span class="comment">// 3 将数据按照空格切割</span></span><br><span class="line">        String[] strs = line.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="comment">// 4 把字符串数组转成int类型数组</span></span><br><span class="line">        <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[strs.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">            arr[i] = Integer.parseInt(strs[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 5 对int类型的数组进行排序</span></span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        <span class="comment">// 6 创建高效的字符输出流对象</span></span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter</span><br><span class="line">                (<span class="keyword">new</span> FileWriter(<span class="string">&quot;day12_demo\\sort1.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// 7 遍历数组,把数组写入到文件中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            bw.write(arr[i] + <span class="string">&quot; &quot;</span>);<span class="comment">//int转string就是方便哈哈哈。</span></span><br><span class="line">            bw.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 8 释放资源</span></span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-转换流"><a href="#5-转换流" class="headerlink" title="5 转换流"></a>5 转换流</h2><h3 id="5-1-转换流介绍"><a href="#5-1-转换流介绍" class="headerlink" title="5.1 转换流介绍"></a>5.1 转换流介绍</h3><ul>
<li>转换流就是来进行<strong>字节流和字符流</strong>之间转换的桥梁</li>
</ul>
<h3 id="5-2-转换流分类"><a href="#5-2-转换流分类" class="headerlink" title="5.2 转换流分类"></a>5.2 转换流分类</h3><ul>
<li><p>1: <strong>InputStreamReader</strong>是<strong>从字节流到字符流</strong>的桥梁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- <span class="function"><span class="keyword">public</span> <span class="title">InputStreamReader</span><span class="params">(InputStream in)</span> :</span></span><br><span class="line"><span class="function">	创建一个使用默认编码的 InputStreamReader。也可以是高效缓冲流。</span></span><br><span class="line"><span class="function">- <span class="keyword">public</span> <span class="title">InputStreamReader</span><span class="params">(InputStream in ,  String charsetName)</span> : </span></span><br><span class="line"><span class="function">	创建使用指定编码的 InputStreamReader。也可以是高效缓冲流。</span></span><br><span class="line"><span class="function">        </span></span><br><span class="line"><span class="function">1  字节转字符流的高效缓冲流代码如下：</span></span><br><span class="line"><span class="function">        FileInputStream fis </span>= <span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\GBK编码的文件.txt&quot;</span>);</span><br><span class="line">        BufferedInputStream brstream = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">        InputStreamReader isr1 = <span class="keyword">new</span> InputStreamReader(brstream,<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>  不用高效缓冲流代码：</span><br><span class="line">InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(</span><br><span class="line"><span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\GBK编码的文件.txt&quot;</span>), <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line"></span><br><span class="line">字符到字节转换流也是一样，可以使用高效缓冲流哦！！！</span><br></pre></td></tr></table></figure>

<ul>
<li>默认编码指的是<strong>IDE平台上的默认编码</strong>，不是window默认的GBK编码</li>
</ul>
</li>
<li><p>2: <strong>OutputStreamWriter</strong>是<strong>从字符流到字节流</strong>的桥梁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- <span class="function"><span class="keyword">public</span> <span class="title">OutputStreamWriter</span><span class="params">(OutputStream out)</span> : </span></span><br><span class="line"><span class="function">	创建使用默认字符编码的 OutputStreamWriter；也可以是高效缓冲流。</span></span><br><span class="line"><span class="function">- <span class="keyword">public</span> <span class="title">OutputStreamWriter</span><span class="params">(OutputStream out,  String charsetName)</span> : </span></span><br><span class="line"><span class="function">	创建使用指定编码的 OutputStreamWriter。；也可以是高效缓冲流。</span></span><br></pre></td></tr></table></figure></li>
<li><h5 id="原理：内存跟文件的交互本质上还是字节流进行操作的，只不过："><a href="#原理：内存跟文件的交互本质上还是字节流进行操作的，只不过：" class="headerlink" title="原理：内存跟文件的交互本质上还是字节流进行操作的，只不过："></a>原理：内存跟文件的交互本质上还是字节流进行操作的，只不过：</h5></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 在进行字节的读取后先封装为字符流再放到内存中 (InputStreamReader)</span><br><span class="line"><span class="number">2</span> 在进行字符的写入时先解析为字节流再写入文件中(OutputStreamWriter)</span><br><span class="line">也很容易记忆嘛，输入时肯定是读取，而且肯定是字节转字符!输出同理记忆。</span><br><span class="line">转换图解如下：</span><br></pre></td></tr></table></figure>

<ul>
<li><p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/5.jpg" alt="5"></p>
</li>
<li><h5 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h5></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">window上的文本文档，分别是GBK跟UTF-<span class="number">8</span>编码的两个文件</span><br><span class="line">用记事本打开，都不会乱码。可能自动适配多种编码格式吧。</span><br><span class="line"></span><br><span class="line">但是在idea上就不能这样子，编码选择为utf-<span class="number">8</span>，</span><br><span class="line">然后打开gbk编码的文件就会显示乱码。</span><br><span class="line">    </span><br><span class="line">这里跟控制台打印一样。只要我读取的文件格式</span><br><span class="line">跟我读取的格式参数不符就不能正确打印显示</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>练习</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">需求<span class="number">1</span> : 使用转换流 , 把以下数据按照GBK的编码写入文件</span><br><span class="line">		再使用GBK的编码读取文件数据。</span><br><span class="line">数据如下 :        </span><br><span class="line">远桥之下泛莲舟        </span><br><span class="line">岱岩石上松溪流        </span><br><span class="line">万仞翠山梨亭在        </span><br><span class="line">莫闻空谷声悠悠 </span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.conversion_demo;<span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConversionDemo1</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span></span><br><span class="line"><span class="function">    </span>&#123;        </span><br><span class="line">        <span class="comment">// 创建转换输出流（字符转字节）      </span></span><br><span class="line">        <span class="comment">//文件本来是GBK，如果用utf-8格式读取的话，控制台打印出来就会乱码。</span></span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(</span><br><span class="line">            <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;day12_demo\\conversion.txt&quot;</span>), <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        osw.write(<span class="string">&quot;远桥之下泛莲舟&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;\r\n&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;岱岩石上松溪流&quot;</span>);       </span><br><span class="line">        osw.write(<span class="string">&quot;\r\n&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;万仞翠山梨亭在&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;\r\n&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;莫闻空谷声悠悠&quot;</span>);        </span><br><span class="line">        osw.write(<span class="string">&quot;\r\n&quot;</span>);        </span><br><span class="line">        osw.close();        </span><br><span class="line">        <span class="comment">// 创建转换输入流（字节转字符）       </span></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(</span><br><span class="line">            <span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\conversion.txt&quot;</span>), <span class="string">&quot;GBK&quot;</span>); </span><br><span class="line">        <span class="keyword">int</span> ch;        </span><br><span class="line">        <span class="keyword">while</span> ((ch = isr.read()) != -<span class="number">1</span>) </span><br><span class="line">        &#123;            </span><br><span class="line">            System.out.print((<span class="keyword">char</span>) ch);<span class="comment">//这里要转为字符类型哦。        </span></span><br><span class="line">        &#125;        </span><br><span class="line">        isr.close();    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>需求2 :  将GBK编码的文本文件 , 转换为UTF-8编码的文本文件 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.conversion_demo;<span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConversionDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 创建转换输入流</span></span><br><span class="line"><span class="comment">//        FileInputStream fis = new FileInputStream(&quot;day12_demo\\GBK编码的文件.txt&quot;);</span></span><br><span class="line"><span class="comment">//        BufferedInputStream brstream = new BufferedInputStream(fis);</span></span><br><span class="line"><span class="comment">//        InputStreamReader isr1 = new InputStreamReader(brstream,&quot;GBK&quot;);</span></span><br><span class="line">        <span class="comment">// 如上三行代码，表明也可以用高效缓冲流哈！！！</span></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(</span><br><span class="line">                <span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\GBK编码的文件.txt&quot;</span>), <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建转换输出流</span></span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(</span><br><span class="line">                <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;day12_demo\\UTF-8编码的文件.txt&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">while</span> ((ch = isr.read()) != -<span class="number">1</span>) <span class="comment">// 以GBK编码进去读取</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//###虽然是int类型，但是写入时不用转为char再写。读取时要转哦。</span></span><br><span class="line">            osw.write(ch);</span><br><span class="line">            <span class="comment">// 以UTF-8编码进行写入</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 释放资源</span></span><br><span class="line">        isr.close();</span><br><span class="line">        osw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>小结</strong>：结合下面的转换流，目前学了几种关于IO流的总结</p>
<p>（注意，前面学的是Stream流，是内存之间的流，这里是内存与硬盘之间的流）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>  FileOutputStream   FileInputStream   字节输出 输入流。</span><br><span class="line"><span class="number">2</span> BufferedOutputStream(FileOutputStream) 高效字节缓冲输出流</span><br><span class="line">  BufferedInputStream(FileInputStream)   高效字节缓冲输入流。</span><br><span class="line"><span class="number">3</span> FileWriter    FileReader   字符输出 输入流</span><br><span class="line"><span class="number">4</span> BufferedWriter(FileWriter )  高效字符缓冲输出流</span><br><span class="line">  BufferedReader(FileReader)  高效字符缓冲输入流。</span><br><span class="line"><span class="number">5</span> OutputStreamWriter(FilleOutputStream out)   </span><br><span class="line">  InputStreamReader(FileInputStream in)  字符转字节，字节转字符 转换流</span><br><span class="line"><span class="number">6</span> OutputStreamWriter(BufferedOutputStream out)高效字符转字节 转换流</span><br><span class="line">  InputStreamReader(BufferedInputStream in)高效字节转字符 转换流</span><br><span class="line">    </span><br><span class="line">ps:字符缓冲流具有特有的方法：</span><br><span class="line">    readline（读一整行，不包括换行符）</span><br><span class="line">    newline （写入换行符）</span><br></pre></td></tr></table></figure>



<h2 id="6-对象操作流"><a href="#6-对象操作流" class="headerlink" title="6 对象操作流"></a>6 对象操作流</h2><h3 id="6-1-对象操作流介绍"><a href="#6-1-对象操作流介绍" class="headerlink" title="6.1 对象操作流介绍"></a>6.1 对象操作流介绍</h3><ul>
<li>可以<strong>把对象以字节的形式写到本地文件</strong>，直接打开文件，是<strong>读不懂</strong>的，需要再次用对象操作流读到内存中。</li>
<li>如果只是提取对象成员变量然后保存到文件中，任何人都可以看得到，不安全！</li>
</ul>
<h3 id="6-2-对象操作流的分类"><a href="#6-2-对象操作流的分类" class="headerlink" title="6.2 对象操作流的分类"></a>6.2 对象操作流的分类</h3><ul>
<li><strong>1:ObjectOutputStream</strong> :<ul>
<li>​    对象操作输出流（<strong>对象序列化流</strong>）：就是将对象写到本地文件中，或者在网络中传输对象</li>
</ul>
</li>
<li><strong>2:ObjectInputStream</strong> :<ul>
<li>​    对象操作输入流（<strong>对象反序列化流</strong>）：把写到本地文件中的对象读到内存中，或者接收网络中传输的对象</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>: 构造方法  </span><br><span class="line">    ObjectOutputStream(FileOutputStream)</span><br><span class="line">    ObjectInputStream(FileInputStream)</span><br><span class="line"><span class="number">2</span>: 序列化对象：writeObject(obj)</span><br><span class="line"><span class="number">3</span>: 反序列对象：readObject(obj)  <span class="comment">//注意，返回的是Object类型，要向下转型。</span></span><br></pre></td></tr></table></figure>



<h3 id="6-3-对象操作流的注意事项"><a href="#6-3-对象操作流的注意事项" class="headerlink" title="6.3 对象操作流的注意事项"></a>6.3 对象操作流的注意事项</h3><ul>
<li><p>注意 : 如果一个类对象想要被序列化 , 那么此类需要<strong>实现Serializable接口</strong></p>
<ul>
<li>Serializable接口的含义 :<ul>
<li>​    1 是一个<strong>标记性接口</strong> , 里面<strong>没有任何抽象方法（害！）</strong></li>
<li>​    2 只要一个类<strong>实现了此接口</strong> , 表示此类的对象<strong>可以被序列化</strong></li>
</ul>
</li>
</ul>
</li>
<li><p>1 ：用对象序列化流序列化了一个对象后，假如我们<strong>修改了对象所属的Javabean类</strong>，读取数据会不会出问题呢？会出问题，会抛出<strong>InvalidClassException异常</strong>   </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">问题分析 : </span><br><span class="line">serialVersionUID  序列号: 根据类的信息进行生成的           </span><br><span class="line">如果没有自己给出序列号 , JVM会根据类的信息自动计算一个序列号            </span><br><span class="line">如果改动了类的信息 , 那么JVM会重新计算一个序列号。</span><br><span class="line">    </span><br><span class="line">第一步 : 把对象序列化到本地文件中；</span><br><span class="line">        序列号为 -<span class="number">4446663370728791812</span> 也会存储到本地文件中            </span><br><span class="line">第二步 : 我们自己修改了类 , 会重新计算一个新的序列号 <span class="number">2908680347500030933</span>     </span><br><span class="line">第三步 : 当把对象读到内存中时 , 本地中的序列号和类中的序列号不一致</span><br><span class="line">         就会发生 InvalidClassException异常 </span><br></pre></td></tr></table></figure>

<ul>
<li><p>2 如果<strong>出问题了，如何解决呢？</strong></p>
<ul>
<li>手动给对象所属的类加一个serialVersionUID </li>
<li>private static final long serialVersionUID = 42L;</li>
</ul>
</li>
<li><p>3 如果一个对象中的<strong>某个成员变量的值不想被序列化</strong>，又该如何实现呢？</p>
</li>
<li><p>给该成员变量加transient关键字修饰，该关键字标记的成员变量不参与序列化过程</p>
</li>
<li><p>读回来时，<strong>加了transient关键字修饰的变量为null</strong>。</p>
</li>
</ul>
<h3 id="6-4-对象操作流的练习"><a href="#6-4-对象操作流的练习" class="headerlink" title="6.4 对象操作流的练习"></a>6.4 对象操作流的练习</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    需求：创建多个Javabean类对象写到文件中，再次读取到内存。</span></span><br><span class="line"><span class="comment">    思路：</span></span><br><span class="line"><span class="comment">        1 创建User对象</span></span><br><span class="line"><span class="comment">        2 利用对象操作输出流写到本地</span></span><br><span class="line"><span class="comment">        3 利用对象操作输入流读到内存</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//User类：</span></span><br><span class="line"><span class="keyword">package</span> com.itheima.objectstream_demo;<span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span>    </span></span><br><span class="line"><span class="class">    //手动给定一个一直都不会变的序列号   </span></span><br><span class="line"><span class="class">    <span class="title">private</span> <span class="title">static</span> <span class="title">final</span> <span class="title">long</span> <span class="title">serialVersionUID</span> </span>= <span class="number">111L</span>; </span><br><span class="line">    <span class="keyword">private</span> String username;  </span><br><span class="line">	<span class="comment">//transient 修饰，表示不参与序列化    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String password;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;    &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String username, String password)</span> </span>&#123;        </span><br><span class="line">        <span class="keyword">this</span>.username = username;        </span><br><span class="line">        <span class="keyword">this</span>.password = password;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;        </span><br><span class="line">        <span class="keyword">return</span> username;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;        </span><br><span class="line">        <span class="keyword">this</span>.username = username;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;        <span class="keyword">return</span> password;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;        <span class="keyword">this</span>.password = password;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="meta">@Override</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +                </span><br><span class="line">            <span class="string">&quot;username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +                </span><br><span class="line">            <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建多个User对象并且写入txt文件，再读到内存中，然后打印对象！！！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.objectstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectStreamDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// 创建user对象</span></span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        User user1 = <span class="keyword">new</span> User(<span class="string">&quot;lisi&quot;</span>, <span class="string">&quot;67890&quot;</span>);</span><br><span class="line">        User user2 = <span class="keyword">new</span> User(<span class="string">&quot;王五&quot;</span>, <span class="string">&quot;afdsf&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建对象操作输出流对象</span></span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(</span><br><span class="line">                <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;day12_demo\\user1.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// 把对象写入到文件中</span></span><br><span class="line">        oos.writeObject(user);</span><br><span class="line">        oos.writeObject(user1);</span><br><span class="line">        oos.writeObject(user2);</span><br><span class="line">        <span class="comment">// 释放资源</span></span><br><span class="line">        oos.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建的是对象操作输入流</span></span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(</span><br><span class="line">                <span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\user1.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// readObject : 把文件中的对象读到内存中</span></span><br><span class="line"><span class="comment">//        User obj = (User) ois.readObject();</span></span><br><span class="line"><span class="comment">//        User obj2 = (User) ois.readObject();</span></span><br><span class="line"><span class="comment">//        User obj3 = (User) ois.readObject();</span></span><br><span class="line"><span class="comment">//        System.out.println(obj);</span></span><br><span class="line"><span class="comment">//        System.out.println(obj2);</span></span><br><span class="line"><span class="comment">//        System.out.println(obj3);</span></span><br><span class="line">        <span class="comment">//或者如下循环代码：</span></span><br><span class="line">        User  obj;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>((obj = (User)ois.readObject())!=<span class="keyword">null</span>)</span><br><span class="line">                System.out.println((User)obj);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(EOFException e)&#123;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="comment">//上面必须捕获处理EOFExceptin来判断已经达到了文件的末尾</span></span><br><span class="line">        <span class="comment">//又或者记录当初存入的对象个数，我们读取一定个数的对象就跳出循环。</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        User&#123;username=&#x27;null&#x27;, password=&#x27;123456&#x27;&#125;</span></span><br><span class="line"><span class="comment">        User&#123;username=&#x27;null&#x27;, password=&#x27;67890&#x27;&#125;</span></span><br><span class="line"><span class="comment">        User&#123;username=&#x27;null&#x27;, password=&#x27;afdsf&#x27;&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>方法改进：<strong>将多个对象放到集合里面</strong>（集合实现了Serializable接口，所以）序列化时<strong>直接序列化集合对象</strong>就好。</p>
<p>首先给出student类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.objectstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 序列号</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">111L</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.objectstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectStreamTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// 创建多个学生对象</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student(<span class="string">&quot;迪丽热巴&quot;</span>, <span class="number">18</span>);</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student(<span class="string">&quot;古力娜扎&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        Student s3 = <span class="keyword">new</span> Student(<span class="string">&quot;马尔扎哈&quot;</span>, <span class="number">19</span>);</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Student&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(s1);</span><br><span class="line">        list.add(s2);</span><br><span class="line">        list.add(s3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建对象操作输出流</span></span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(</span><br><span class="line">            <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;day12_demo\\student.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// 把一个集合容器对象写入文件中</span></span><br><span class="line">        oos.writeObject(list);</span><br><span class="line">        oos.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建对象操作输入流</span></span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\student.txt&quot;</span>));</span><br><span class="line">        ArrayList&lt;Student&gt; obj = (ArrayList&lt;Student&gt;) ois.readObject();</span><br><span class="line">        <span class="keyword">for</span> (Student s : obj) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        ois.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Student&#123;name=&#x27;迪丽热巴&#x27;, age=18&#125;</span></span><br><span class="line"><span class="comment">Student&#123;name=&#x27;古力娜扎&#x27;, age=20&#125;</span></span><br><span class="line"><span class="comment">Student&#123;name=&#x27;马尔扎哈&#x27;, age=19&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//ps:</span></span><br><span class="line"><span class="comment">//虽然ArrayList实现了序列化接口，</span></span><br><span class="line"><span class="comment">//但是其元素类型也得需要实现序列化接口才能序列化成功</span></span><br><span class="line"><span class="comment">//因此Student也要 implements Serializable</span></span><br><span class="line"><span class="comment">//然后Student的字段也可以透明化，成员变量用transient来修饰。</span></span><br></pre></td></tr></table></figure>

<h2 id="7-打印流"><a href="#7-打印流" class="headerlink" title="7 打印流"></a>7 打印流</h2><h4 id="【1】API"><a href="#【1】API" class="headerlink" title="【1】API"></a>【1】API</h4><p><strong>PrintStream类</strong> 打印 ，<strong>打印到指定文件</strong>！！！（就相当于字节流）</p>
<p><strong>1）构造方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">PrintStream</span><span class="params">(String filePath)</span> : </span></span><br><span class="line"><span class="function">构建一个打印流对象，传入接收数据的文件路径</span></span><br></pre></td></tr></table></figure>

<p><strong>2）方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">println</span><span class="params">(数据)</span>   打印后换行</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(数据)</span>     打印不换行</span></span><br></pre></td></tr></table></figure>

<h4 id="【2】代码实践"><a href="#【2】代码实践" class="headerlink" title="【2】代码实践"></a>【2】代码实践</h4><p>创建打印流对象，记录一些数据到指定文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.printstream_demo;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">需求 : 创建打印流对象，记录一些数据到指定文件. </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintStreamDemo</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;        </span><br><span class="line">        PrintStream printStream = <span class="keyword">new</span> </span><br><span class="line">        PrintStream(<span class="string">&quot;day12_demo\\print.txt&quot;</span>);                </span><br><span class="line">        printStream.println(<span class="number">123</span>);        </span><br><span class="line">        printStream.println(<span class="string">&quot;abc&quot;</span>);        </span><br><span class="line">        printStream.println(<span class="keyword">true</span>);        </span><br><span class="line">        printStream.println(<span class="keyword">new</span> Object());        </span><br><span class="line">        printStream.close();    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 文件内容如下：</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">abc</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">java.lang.Object@4eec7777</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h4 id="内容小结"><a href="#内容小结" class="headerlink" title="内容小结"></a>内容小结</h4><ul>
<li>打印流使用很简单，print/println方法</li>
<li>作用：就是为了方便记录数据（日志）</li>
</ul>
<p>小拓展：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> ：(<span class="keyword">new</span> PrintStream(String str)).println()</span><br><span class="line"><span class="number">2</span>：System.out.println()默认打印到控制台，</span><br><span class="line"> 	    System.out 对象类型，其实就是PrintStream类型。</span><br><span class="line"><span class="number">3</span> ：可以改变系统输出的流向：System.setOut(打印流)</span><br><span class="line">	System.setOut(<span class="keyword">new</span> FileOutputStream(String filename))    </span><br><span class="line">	把默认打印到控制台改成打印到指定文件</span><br><span class="line">	此时System.out.println() 打印到文件，而不是控制台。</span><br><span class="line">	相当于PrintStream，但是很少用！！！</span><br></pre></td></tr></table></figure>



<h2 id="8-装饰设计模式"><a href="#8-装饰设计模式" class="headerlink" title="8 装饰设计模式"></a>8 装饰设计模式</h2><ul>
<li><p><strong>设计模式</strong> : 一套良好的编码风格 , 经过众多的开发人员不断的测试总结而来</p>
</li>
<li><p><strong>装饰模式</strong>：指的是不改变原类, 不使用继承<strong>的基础上，</strong>动态扩展一个对象的功能。</p>
<p>​                    不使用继承数据扩展功能, 可以降低耦合</p>
</li>
<li><h5 id="使用原则："><a href="#使用原则：" class="headerlink" title="使用原则："></a>使用原则：</h5><ul>
<li>1 装饰类和被装饰类需要有<strong>共同的父类型</strong>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 在之前学习过的 BufferedWriter 和 FileWriter 就是装饰设计模式</span><br><span class="line">- BufferedWriter的父类为Writer </span><br><span class="line">- FileWriter的父类也是Writer</span><br><span class="line">- 我们把FileWriter的对象传递到BufferedWriter的构造中 , </span><br><span class="line">  那么可以理解为BufferedWriter是**装饰类** , FileWriter是被**装饰类**</span><br><span class="line">- BufferedWriter对FileWriter的**功能做了增强**</span><br></pre></td></tr></table></figure>

<ul>
<li>2 装饰类的构造要<strong>接收被装饰类的对象</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;路径&quot;</span>);</span><br><span class="line">- BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br></pre></td></tr></table></figure>

<ul>
<li>3 在装饰类中把要增强扩展的<strong>功能进行扩展</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- BufferedWriter和FileWriter的功能一样, 都具备Writer中写数据的功能</span><br><span class="line">- 但是BufferedWriter提供了缓冲区 , 相当于对FileWriter功能做了扩展</span><br></pre></td></tr></table></figure>

<ul>
<li>4 对于不要增强的功能直接调用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不需要增强的功能**直接继承父类**的即可，如read，write方法。</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="【2】代码实践-1"><a href="#【2】代码实践-1" class="headerlink" title="【2】代码实践"></a>【2】代码实践</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">需求 ：</span></span><br><span class="line"><span class="comment">	已知有接口Star和其子类型LiuDeHua</span></span><br><span class="line"><span class="comment">	在不改变LiuDeHua类，及不使用继承的技术前提下，</span></span><br><span class="line"><span class="comment">	动态的扩展LiuDeHua的sing功能。</span></span><br><span class="line"><span class="comment">	LiuDeHua就是一个被装饰类 , 需要对唱歌的功能进行扩展</span></span><br><span class="line"><span class="comment">思路 ：</span></span><br><span class="line"><span class="comment">	定义一个装饰类，去装饰增强 LiuDehua类。</span></span><br><span class="line"><span class="comment">步骤：</span></span><br><span class="line"><span class="comment">1- 创建LiuDeHua类并实现接口Star【被装饰类】</span></span><br><span class="line"><span class="comment">2- 定义一个装饰类LiuDeHuaWrapper实现Star 【装饰类】</span></span><br><span class="line"><span class="comment">3- 在装饰类里面定义一个成员变量类型是LiuDeHua，</span></span><br><span class="line"><span class="comment">   可以使用构造方法进行传入被装饰类对象。</span></span><br><span class="line"><span class="comment">4- 在装饰类中对sing方法进行功能扩展</span></span><br><span class="line"><span class="comment">5- 对dance不做改动</span></span><br><span class="line"><span class="comment">6- 测试类分别创建装饰类的对象和被装饰类的对象。</span></span><br><span class="line"><span class="comment">   将被装饰类对象刘德华对象设置给装饰类对象。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 明星接口 , 装饰类和被装饰类的父类型</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Star</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span></span>;<span class="comment">// 唱歌    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">dance</span><span class="params">()</span></span>;<span class="comment">// 跳舞</span></span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// 1. 创建LiuDeHua类并实现接口Star【被装饰类】</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LiuDeHua</span> <span class="keyword">implements</span> <span class="title">Star</span> </span>&#123;    </span><br><span class="line">    <span class="meta">@Override</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        System.out.println(<span class="string">&quot;唱忘情水....&quot;</span>);    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="meta">@Override</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dance</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        System.out.println(<span class="string">&quot;华仔在跳老年迪斯高...&quot;</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义一个装饰类LiuDeHuaWrapper实现Star 【装饰类】</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LiuDeHuaWrapper</span> <span class="keyword">implements</span> <span class="title">Star</span> </span>&#123;  </span><br><span class="line">    <span class="comment">// 3. 在装饰类里面定义一个成员变量类型是LiuDeHua，</span></span><br><span class="line">    <span class="comment">// 可以使用构造方法进行传入被装饰类对象    </span></span><br><span class="line">    <span class="keyword">private</span> LiuDeHua huaZai;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LiuDeHuaWrapper</span><span class="params">(LiuDeHua huaZai)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.huaZai = huaZai;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">// 4. 在装饰类中对sing方法进行功能扩展 </span></span><br><span class="line">    <span class="meta">@Override</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        <span class="comment">//调用原有功能。</span></span><br><span class="line">        huaZai.sing();  </span><br><span class="line">        <span class="comment">//扩展的功能。</span></span><br><span class="line">        System.out.print(<span class="string">&quot;唱的是给我一杯忘情水贵 &quot;</span>); </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">// 5. 对dance不做改动 对多有不用增强的方法，不做改动！！！</span></span><br><span class="line">    <span class="meta">@Override</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dance</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        huaZai.dance();                  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.design_demo;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;            </span><br><span class="line">        <span class="comment">// 创建被装饰的类对象        </span></span><br><span class="line">        LiuDeHua huaZai = <span class="keyword">new</span> LiuDeHua();      </span><br><span class="line">        <span class="comment">// 创建装饰类对象        </span></span><br><span class="line">        LiuDeHuaWrapper liuDeHuaWrapper = <span class="keyword">new</span> LiuDeHuaWrapper(huaZai);        </span><br><span class="line">        liuDeHuaWrapper.sing();</span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        liuDeHuaWrapper.dance();    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">华仔唱歌</span></span><br><span class="line"><span class="comment">唱的是给我一杯忘情水</span></span><br><span class="line"><span class="comment">===========</span></span><br><span class="line"><span class="comment">华仔跳舞</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="内容小结-1"><a href="#内容小结-1" class="headerlink" title="内容小结"></a>内容小结</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 装饰类和被装饰类需要有共同的父类型。</span><br><span class="line"><span class="number">2.</span> 装饰类要传入被装饰类的对象</span><br><span class="line"><span class="number">3.</span> 在装饰类中把要增强扩展的功能进行扩展</span><br><span class="line"><span class="number">4.</span> 对于不要增强的功能直接调用</span><br></pre></td></tr></table></figure>



<h2 id="9-commons-io工具包"><a href="#9-commons-io工具包" class="headerlink" title="9 commons-io工具包"></a>9 commons-io工具包</h2><h4 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h4><ul>
<li>能够熟悉导入commons-io工具包，并使用</li>
</ul>
<h4 id="内容讲解"><a href="#内容讲解" class="headerlink" title="内容讲解"></a>内容讲解</h4><h4 id="【1】三方库的导入"><a href="#【1】三方库的导入" class="headerlink" title="【1】三方库的导入"></a>【1】三方库的导入</h4><ol>
<li><p>下载commons-io相关jar包；<a target="_blank" rel="noopener" href="http://commons.apache.org/proper/commons-io/">http://commons.apache.org/proper/commons-io/</a></p>
<p>下载之后打开commons-io-2.6\docs下面的index.html,可以在浏览器中查看API啦。</p>
<p><img src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/6.jpg" alt="6"></p>
</li>
<li><p>把commons-io-2.6.jar包复制到指定的Module的lib目录中</p>
</li>
<li><p>将commons-io-2.6.jar加入到项目中:右键jar包;  Add to libaray.  就可以看到了jar包下可以打开文件了。</p>
</li>
</ol>
<h4 id="【2】API"><a href="#【2】API" class="headerlink" title="【2】API"></a>【2】API</h4><p><strong>1）org.apache.commons.io.IOUtils类</strong></p>
<p>public static int <strong>copy</strong>(InputStream in, OutputStream out):    把input输入流中的内容拷贝到output输出流中，返回拷贝的字节个数(适合文件大小为<strong>2GB以下</strong>) </p>
<p>public static long <strong>copyLarge</strong>(InputStream in, OutputStream out):    把input输入流中的内容拷贝到output输出流中，返回拷贝的字节个数(适合文件大小为<strong>2GB以上</strong>)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码实践 :</span></span><br><span class="line"><span class="keyword">package</span> com.itheima.commons_io;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        IOUtils.copy(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;day12_demo\\1.wmv&quot;</span>),</span><br><span class="line">                <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;day12_demo\\1wmvCopy.wmv&quot;</span>));</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;拷贝137M的文件画时：&quot;</span> + (end - start) + <span class="string">&quot;毫秒&quot;</span>);</span><br><span class="line">        <span class="comment">//拷贝137M的文件画时：1133毫秒</span></span><br><span class="line">        <span class="comment">//是高效字节数组方式字节流 的拷贝方法的两倍时间哈。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>2）org.apache.commons.io.FileUtils</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFileToDirectory</span><span class="params">(<span class="keyword">final</span> File srcFile, <span class="keyword">final</span> File destFile)</span></span></span><br><span class="line"><span class="function">    复制文件到另外一个目录下。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyDirectoryToDirectory</span><span class="params">(File src , File dest )</span></span></span><br><span class="line"><span class="function">    复制src目录到dest位置。</span></span><br></pre></td></tr></table></figure>

<p>代码实践：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.commons_io;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;        </span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        FileUtils.copyDirectoryToDirectory(</span><br><span class="line">            <span class="keyword">new</span> File(<span class="string">&quot;day12_demo&quot;</span>) , <span class="keyword">new</span> File(<span class="string">&quot;day12_demo_copy&quot;</span>));</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;拷贝整个文件夹花时：&quot;</span> + (end - start) + <span class="string">&quot;毫秒&quot;</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//拷贝整个文件夹花时：776毫秒</span></span><br><span class="line"><span class="comment">//比拷贝文件夹里面的单个文件都要快哈。</span></span><br></pre></td></tr></table></figure>

<h4 id="内容小结-2"><a href="#内容小结-2" class="headerlink" title="内容小结"></a>内容小结</h4><p>commons-io可以<strong>简化IO操作。</strong></p>
<p>总结：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 从自己封装代码，用自己的代码</span><br><span class="line"><span class="number">2</span> 到看JDK里面的API（如何使用，能力强一点的看源码，模仿源码）</span><br><span class="line"><span class="number">3</span> 到导入第三方写好的jar包（会看，会用）</span><br><span class="line"><span class="number">4</span> 再到各种框架，任重而道远呐。。。。加油！！！</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">高明辉</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/01/13/day12%E3%80%90%E7%BC%93%E5%86%B2%E6%B5%81%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81%E3%80%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E3%80%81%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%81commons-io%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%91/">http://example.com/2022/01/13/day12%E3%80%90%E7%BC%93%E5%86%B2%E6%B5%81%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81%E3%80%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E3%80%81%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%81commons-io%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Jason</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%97%E7%AC%A6%E6%B5%81/">字符流</a><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A0%81%E8%A1%A8/">编码表</a><a class="post-meta__tags" href="/tags/%E5%AF%B9%E8%B1%A1%E6%B5%81/">对象流</a><a class="post-meta__tags" href="/tags/%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F/">装饰者模式</a><a class="post-meta__tags" href="/tags/commons-io%E5%B7%A5%E5%85%B7%E5%8C%85/">commons-io工具包</a></div><div class="post_share"><div class="social-share" data-image="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day12/4.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="添加微信"/></a><div class="post-qr-code-desc">添加微信</div></li><li class="reward-item"><a href="/img/pay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/pay.jpg" alt="付款码"/></a><div class="post-qr-code-desc">付款码</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/14/day13%E3%80%90%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%8CJunit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%EF%BC%8C%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%A4%9A%E4%BE%8B%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E3%80%91/"><img class="prev-cover" src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day13/%E5%B0%81%E9%9D%A2.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">day13【网络编程，Junit单元测试，单例模式，多例模式，工厂模式】</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/11/day11-%E5%AD%97%E8%8A%82%E6%B5%81-%E5%AD%97%E7%AC%A6%E6%B5%81/"><img class="next-cover" src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day11/4.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">day11-字节流,字符流</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/01/11/day11-%E5%AD%97%E8%8A%82%E6%B5%81-%E5%AD%97%E7%AC%A6%E6%B5%81/" title="day11-字节流,字符流"><img class="cover" src="/img/java/01%E9%98%B6%E6%AE%B5SE%E8%BF%9B%E9%98%B6/day11/4.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-11</div><div class="title">day11-字节流,字符流</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#day12-%E7%BC%96%E7%A0%81%E8%A1%A8-%E5%AD%97%E7%AC%A6%E6%B5%81-%E5%AF%B9%E8%B1%A1%E6%B5%81-%E5%85%B6%E4%BB%96%E6%B5%81"><span class="toc-number">1.</span> <span class="toc-text">day12-编码表,字符流,对象流,其他流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">学习内容：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E8%A1%A8"><span class="toc-number">1.1.0.0.1.</span> <span class="toc-text">编码表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">1.1.0.0.2.</span> <span class="toc-text">字符输出流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="toc-number">1.1.0.0.3.</span> <span class="toc-text">字符输入流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">1.1.0.0.4.</span> <span class="toc-text">字符缓冲流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-number">1.1.0.0.5.</span> <span class="toc-text">转换流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81"><span class="toc-number">1.1.0.0.6.</span> <span class="toc-text">对象操作流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-number">1.1.0.0.7.</span> <span class="toc-text">打印流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.0.0.8.</span> <span class="toc-text">装饰模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#commons-io-jar%E5%8C%85"><span class="toc-number">1.1.0.0.9.</span> <span class="toc-text">commons-io  jar包</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%BC%96%E7%A0%81%E8%A1%A8"><span class="toc-number">1.2.</span> <span class="toc-text">1 编码表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%80%9D%E8%80%83%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 思考：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%BC%96%E7%A0%81%E8%A1%A8%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 编码表介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%EF%BC%9A"><span class="toc-number">1.2.2.0.1.</span> <span class="toc-text">简单理解：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ASCII%E7%A0%81%E8%A1%A8%EF%BC%9A"><span class="toc-number">1.2.2.0.2.</span> <span class="toc-text">ASCII码表：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#GBK%E7%A0%81%E8%A1%A8%EF%BC%9A"><span class="toc-number">1.2.2.0.3.</span> <span class="toc-text">GBK码表：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Unicode%E7%A0%81%E8%A1%A8%EF%BC%9A"><span class="toc-number">1.2.2.0.4.</span> <span class="toc-text">Unicode码表：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%BC%96%E7%A0%81%E8%A1%A8%E5%B0%8F%E7%BB%93"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 编码表小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%AD%97%E8%8A%82%E6%B5%81%E8%AF%BB%E4%B8%AD%E6%96%87%E5%87%BA%E7%8E%B0%E4%B9%B1%E7%A0%81%E7%9A%84%E5%8E%9F%E7%A0%81"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.4 字节流读中文出现乱码的原码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">1.3.</span> <span class="toc-text">2 字符输出流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AD%97%E7%AC%A6%E6%B5%81%E8%BE%93%E5%87%BA%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 字符流输出介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%9AWriter%E7%B1%BB"><span class="toc-number">1.3.1.0.1.</span> <span class="toc-text">1：Writer类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#FileWriter%E7%B1%BB-%E7%94%A8%E6%9D%A5%E5%86%99%E5%85%A5%E5%AD%97%E7%AC%A6%E6%96%87%E4%BB%B6%E7%9A%84%E4%BE%BF%E6%8D%B7%E7%B1%BB"><span class="toc-number">1.3.1.0.2.</span> <span class="toc-text">FileWriter类  : 用来写入字符文件的便捷类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-FileWriter%E7%9A%84%E6%88%90%E5%91%98"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 FileWriter的成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-FileWriter%E5%86%99%E6%95%B0%E6%8D%AE%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 FileWriter写数据的步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.3.0.1.</span> <span class="toc-text">1 创建字符输出流对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%86%99%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.3.0.2.</span> <span class="toc-text">2 写数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E9%87%8A%E6%94%BE%E8%B5%84%E6%BA%90"><span class="toc-number">1.3.3.0.3.</span> <span class="toc-text">3 释放资源</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="toc-number">1.4.</span> <span class="toc-text">3 字符输入流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%AD%97%E8%8A%82%E8%BE%93%E5%85%A5%E6%B5%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 字节输入流介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-FileReader%E7%9A%84%E6%88%90%E5%91%98"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2  FileReader的成员</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#g%E9%AB%98%E6%98%8E"><span class="toc-number">2.</span> <span class="toc-text">g高明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81%E7%89%B9%E6%9C%89%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">2.0.1.</span> <span class="toc-text">4.2 字符缓冲流特有的功能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#BufferedWriter%E7%B1%BB"><span class="toc-number">2.0.1.0.1.</span> <span class="toc-text">BufferedWriter类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#BufferedReader%E7%B1%BB"><span class="toc-number">2.0.1.0.2.</span> <span class="toc-text">BufferedReader类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81%E7%BB%83%E4%B9%A0"><span class="toc-number">2.0.2.</span> <span class="toc-text">4.3 字符缓冲流练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-number">2.1.</span> <span class="toc-text">5 转换流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E8%BD%AC%E6%8D%A2%E6%B5%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.1.</span> <span class="toc-text">5.1 转换流介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E8%BD%AC%E6%8D%A2%E6%B5%81%E5%88%86%E7%B1%BB"><span class="toc-number">2.1.2.</span> <span class="toc-text">5.2 转换流分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%EF%BC%9A%E5%86%85%E5%AD%98%E8%B7%9F%E6%96%87%E4%BB%B6%E7%9A%84%E4%BA%A4%E4%BA%92%E6%9C%AC%E8%B4%A8%E4%B8%8A%E8%BF%98%E6%98%AF%E5%AD%97%E8%8A%82%E6%B5%81%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C%E7%9A%84%EF%BC%8C%E5%8F%AA%E4%B8%8D%E8%BF%87%EF%BC%9A"><span class="toc-number">2.1.2.0.1.</span> <span class="toc-text">原理：内存跟文件的交互本质上还是字节流进行操作的，只不过：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">2.1.2.0.2.</span> <span class="toc-text">注意事项：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81"><span class="toc-number">2.2.</span> <span class="toc-text">6 对象操作流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.2.1.</span> <span class="toc-text">6.1 对象操作流介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">2.2.2.</span> <span class="toc-text">6.2 对象操作流的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.2.3.</span> <span class="toc-text">6.3 对象操作流的注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%B5%81%E7%9A%84%E7%BB%83%E4%B9%A0"><span class="toc-number">2.2.4.</span> <span class="toc-text">6.4 对象操作流的练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-number">2.3.</span> <span class="toc-text">7 打印流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%901%E3%80%91API"><span class="toc-number">2.3.0.1.</span> <span class="toc-text">【1】API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%902%E3%80%91%E4%BB%A3%E7%A0%81%E5%AE%9E%E8%B7%B5"><span class="toc-number">2.3.0.2.</span> <span class="toc-text">【2】代码实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%B0%8F%E7%BB%93"><span class="toc-number">2.3.0.3.</span> <span class="toc-text">内容小结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E8%A3%85%E9%A5%B0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">8 装饰设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8E%9F%E5%88%99%EF%BC%9A"><span class="toc-number">2.4.0.0.1.</span> <span class="toc-text">使用原则：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%902%E3%80%91%E4%BB%A3%E7%A0%81%E5%AE%9E%E8%B7%B5-1"><span class="toc-number">2.4.0.1.</span> <span class="toc-text">【2】代码实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%B0%8F%E7%BB%93-1"><span class="toc-number">2.4.0.2.</span> <span class="toc-text">内容小结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-commons-io%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">2.5.</span> <span class="toc-text">9 commons-io工具包</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="toc-number">2.5.0.1.</span> <span class="toc-text">学习目标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E8%AE%B2%E8%A7%A3"><span class="toc-number">2.5.0.2.</span> <span class="toc-text">内容讲解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%901%E3%80%91%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">2.5.0.3.</span> <span class="toc-text">【1】三方库的导入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%902%E3%80%91API"><span class="toc-number">2.5.0.4.</span> <span class="toc-text">【2】API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%B0%8F%E7%BB%93-2"><span class="toc-number">2.5.0.5.</span> <span class="toc-text">内容小结</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 高明辉</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'Aaee0Vekhg5KbLhMOJQrEU6A-gzGzoHsz',
      appKey: 'mmLHPEEtqvOSJhsqWra8Sq6K',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script type="text/javascript" src="/js/fairyDustCursor.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>