<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Mybatis-Plus | Jason</title><meta name="keywords" content="Mybatis-Plus"><meta name="author" content="高明辉"><meta name="copyright" content="高明辉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Mybatis Plus本篇博客目标： 12345- 了解mybatisplus的特点- 能够掌握mybatisplus快速入门- 能够掌握mybatisplus常用注解- 能够掌握mybatisplus常用的增删改查- 能够掌握mybatisplus自动代码生成  1 MybatisPlus概述MyBatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上">
<meta property="og:type" content="article">
<meta property="og:title" content="Mybatis-Plus">
<meta property="og:url" content="http://example.com/2022/04/28/Mybatis-Plus/index.html">
<meta property="og:site_name" content="Jason">
<meta property="og:description" content="Mybatis Plus本篇博客目标： 12345- 了解mybatisplus的特点- 能够掌握mybatisplus快速入门- 能够掌握mybatisplus常用注解- 能够掌握mybatisplus常用的增删改查- 能够掌握mybatisplus自动代码生成  1 MybatisPlus概述MyBatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/%E5%B0%81%E9%9D%A2.png">
<meta property="article:published_time" content="2022-04-28T01:12:58.000Z">
<meta property="article:modified_time" content="2022-04-28T01:40:26.150Z">
<meta property="article:author" content="高明辉">
<meta property="article:tag" content="Mybatis-Plus">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/%E5%B0%81%E9%9D%A2.png"><link rel="shortcut icon" href="/img/%E7%BD%91%E7%AB%99%E5%9B%BE%E6%A0%87.png"><link rel="canonical" href="http://example.com/2022/04/28/Mybatis-Plus/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Mybatis-Plus',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-28 09:40:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Jason" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E5%A4%B4%E5%83%8F.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">150</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">186</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/%E5%B0%81%E9%9D%A2.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jason</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Mybatis-Plus</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-28T01:12:58.000Z" title="发表于 2022-04-28 09:12:58">2022-04-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-28T01:40:26.150Z" title="更新于 2022-04-28 09:40:26">2022-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/springBoot/">springBoot</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Mybatis-Plus"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Mybatis-Plus"><a href="#Mybatis-Plus" class="headerlink" title="Mybatis Plus"></a>Mybatis Plus</h1><p>本篇博客目标：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">-</span> <span class="string">了解mybatisplus的特点</span></span><br><span class="line"><span class="meta">-</span> <span class="string">能够掌握mybatisplus快速入门</span></span><br><span class="line"><span class="meta">-</span> <span class="string">能够掌握mybatisplus常用注解</span></span><br><span class="line"><span class="meta">-</span> <span class="string">能够掌握mybatisplus常用的增删改查</span></span><br><span class="line"><span class="meta">-</span> <span class="string">能够掌握mybatisplus自动代码生成</span></span><br></pre></td></tr></table></figure>

<h1 id="1-MybatisPlus概述"><a href="#1-MybatisPlus概述" class="headerlink" title="1 MybatisPlus概述"></a>1 MybatisPlus概述</h1><p>MyBatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上<strong>只做增强不做改变，为简化开发、提高效率而生。</strong></p>
<p>官网：<a target="_blank" rel="noopener" href="https://mybatis.plus/">https://mybatis.plus/</a> 或 <a target="_blank" rel="noopener" href="https://mp.baomidou.com/">https://mp.baomidou.com/</a> </p>
<p><strong>要学习在官网中进行学习，资料查找，任何博客，培训平台等都是根据官网整理出来的资料，我们要培养从官网上获取资料，根据官网的开发指南进行学习，提高自学能力。</strong></p>
<p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008112252456.png" alt="image-20201008112252456"></p>
<p>版本</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="2-快速入门"><a href="#2-快速入门" class="headerlink" title="2 快速入门"></a>2 快速入门</h1><p>SpringBoot 整合 MyBatis-Plus，并实现根据Id查询功能。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1、数据库环境准备</span></span><br><span class="line"><span class="attr">2、创建SpringBoot工程，引入MyBatis-Plus场景依赖</span></span><br><span class="line"><span class="attr">3、编写DataSource相关配置</span></span><br><span class="line"><span class="attr">4、编写mapper</span></span><br><span class="line"><span class="attr">5、测试</span></span><br></pre></td></tr></table></figure>

<h2 id="2-1-数据库环境准备"><a href="#2-1-数据库环境准备" class="headerlink" title="2.1 数据库环境准备"></a>2.1 数据库环境准备</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> NAMES utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for tb_user  没有给自增，下面讲到主键策略时，</span></span><br><span class="line"><span class="comment">-- 如果想要用自增，那么这里必须使用主键自增</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `tb_user`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_user` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `t_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `email` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of tb_user</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;赵一伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zys&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;zys@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;钱二败&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;qes&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;qes@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;孙三毁&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;ssh&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;ssh@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;李四摧&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;lsc&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;lsc@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">&#x27;周五输&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zws&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;zws@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">&#x27;吴六破&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;wlp&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;wlp@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="string">&#x27;郑七灭&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zqm&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;zqm@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">8</span>, <span class="string">&#x27;王八衰&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;wbs&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;wbs@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="string">&#x27;张无忌&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zwj&#x27;</span>, <span class="number">25</span>, <span class="string">&#x27;zwj@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;赵敏&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zm&#x27;</span>, <span class="number">26</span>, <span class="string">&#x27;zm@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">11</span>, <span class="string">&#x27;赵二伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zes&#x27;</span>, <span class="number">25</span>, <span class="string">&#x27;zes@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">12</span>, <span class="string">&#x27;赵三伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zss1&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;zss1@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">13</span>, <span class="string">&#x27;赵四伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zss2&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;zss2@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">14</span>, <span class="string">&#x27;赵五伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zws&#x27;</span>, <span class="number">39</span>, <span class="string">&#x27;zws@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">15</span>, <span class="string">&#x27;赵六伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zls&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;zls@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">16</span>, <span class="string">&#x27;赵七伤&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;zqs&#x27;</span>, <span class="number">39</span>, <span class="string">&#x27;zqs@itcast.cn&#x27;</span>);</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-创建工程，引入场景依赖"><a href="#2-2-创建工程，引入场景依赖" class="headerlink" title="2.2 创建工程，引入场景依赖"></a>2.2 创建工程，引入场景依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mysql  驱动--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- lombok  ,自动生成get,Set 等方法--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mybatisplus起步依赖--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-3-编写DataSource相关配置"><a href="#2-3-编写DataSource相关配置" class="headerlink" title="2.3 编写DataSource相关配置"></a>2.3 编写DataSource相关配置</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># datasource</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.200.150:3306/mp?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br></pre></td></tr></table></figure>

<h2 id="2-4-编码"><a href="#2-4-编码" class="headerlink" title="2.4  编码"></a>2.4  编码</h2><p>实体类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.sh.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span>: V1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@TableName(&quot;tb_user&quot;)</span> <span class="comment">// 指定表名</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">//指定注解对应的属性 设置主键生成的策略 IdType.AUTO 使用数据库主键自增</span></span><br><span class="line">    <span class="meta">@TableId(value = &quot;id&quot;,type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="comment">//mybatisplus默认自动开启驼峰映射，因此这里对应上表的user_name 列名</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@TableField(&quot;t_name&quot;)</span> <span class="comment">//使得name关联上表格的t_name 列名</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="comment">//指定表中不存在该字段，在进行操作时，忽略该字段</span></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//User::getAge();===&gt;获取字段名称：age===&gt;反射获取字段对应的Field对象====》getAnnotation===&gt;获取t_name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>@TableName(“tb_user”) : 如果数据库的表名和实体类一致时可以省略</p>
</blockquote>
<p><strong>编写mapper：</strong></p>
<p>继承的范式接口中，<strong>指名的对象就是我们绑定的User实体对象</strong>。UserMapper中无任何方法，且没有映射文件，好简洁呀。当然，<strong>当我们不想用springBoot提供的MyBatis-Plus方法进行数据库操作时，也可以使用自定义的方法</strong>。方法就是跟原生的Mybatis一样，在UserMapper下定义方法，然后在UserMapper.xml中编写sql语句。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.sh.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itheima.sh.pojo.User;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用mp定义Mapper，需要让Mapper接口继承 BaseMapper接口。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//方式一，提供Mapper注解，使得该接口交给容器管理。或者</span></span><br><span class="line"><span class="comment">//方式二：在启动类中加入@MapperScan 注解，如下所示。</span></span><br><span class="line"><span class="comment">//@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动类增加  @MapperScan 注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.sh;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.itheima.sh.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MpApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MpApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-5-测试"><a href="#2-5-测试" class="headerlink" title="2.5 测试"></a>2.5 测试</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.sh;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.sh.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.itheima.sh.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id查询</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectById</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        User user = userMapper.selectById(<span class="number">1L</span>); <span class="comment">//这里的方法名要遵循规范</span></span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-CRUD"><a href="#3-CRUD" class="headerlink" title="3 CRUD"></a>3 CRUD</h1><p>入门程序中 Mapper 继承 BaseMapper；里面定义了非常多的常规用法。</p>
<img src=" /img/java/04阶段热门框架/day12-Mybatis-Plus/image-20210507154919438.png" alt="image-20210507154919438" style="zoom:50%;" />

<h2 id="3-1-新增"><a href="#3-1-新增" class="headerlink" title="3.1 新增"></a>3.1 新增</h2><h3 id="3-1-1-方法解析"><a href="#3-1-1-方法解析" class="headerlink" title="3.1.1 方法解析"></a>3.1.1 方法解析</h3><p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008114929998.png" alt="image-20201008114929998"></p>
<h3 id="3-1-2-测试"><a href="#3-1-2-测试" class="headerlink" title="3.1.2 测试"></a>3.1.2 测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInsert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  User user =</span><br><span class="line">    User.builder() </span><br><span class="line">    .userName(<span class="string">&quot;itheima&quot;</span>)</span><br><span class="line">    .name(<span class="string">&quot;itcast&quot;</span>)</span><br><span class="line">    .age(<span class="number">15</span>)</span><br><span class="line">    .email(<span class="string">&quot;itcast@itcast.cn&quot;</span>)</span><br><span class="line">    .password(<span class="string">&quot;111111&quot;</span>)</span><br><span class="line">    .build();</span><br><span class="line">  <span class="keyword">int</span> insert = userMapper.insert(user);</span><br><span class="line">    <span class="comment">//自动主键回填</span></span><br><span class="line">  System.out.println(insert);</span><br><span class="line">	assertEquals(<span class="number">1</span>,count,<span class="string">&quot;插入失败&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-1-3-主键生成策略-TableId"><a href="#3-1-3-主键生成策略-TableId" class="headerlink" title="3.1.3 主键生成策略-@TableId"></a>3.1.3 主键生成策略-@TableId</h3><p>作用：标识数据库的<strong>主键列</strong>以及<strong>主键生成的策略</strong></p>
<p>使用：添加在实体类的主键对应的成员属性，默认为None，如下，在插入时，实体类的id不能为空哦。</p>
<img src=" /img/java/04阶段热门框架/day12-Mybatis-Plus/image-20210507161829917.png" alt="image-20210507161829917" style="zoom:50%;" />

<p>如果<strong>使用了自增策略，同时数据库中对应的表格的id设置了自增</strong>，那么我们插入的实体对象的id可以为null，插入到表格时会遵循自增策略。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">//指定注解对应的属性 设置主键生成的策略 IdType.AUTO 使用数据库主键自增</span></span><br><span class="line">    <span class="meta">@TableId(value = &quot;id&quot;,type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>主键生成策略有如下几种：（ctrl+单机@TableId时可以跳转到如下TableId类，看注解属性的详情。我们在更改时，只需要将type属性用定义好的枚举赋值就好，然后指名id（数据库中的列）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> TableId &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 字段名（该值可无）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主键类型</span></span><br><span class="line"><span class="comment">     * &#123;<span class="doctag">@link</span> IdType&#125;  查看 IdType</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">IdType <span class="title">type</span><span class="params">()</span> <span class="keyword">default</span> IdType.NONE</span>;   <span class="comment">// 默认是 NONE</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IdType </span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">IdType</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 数据库ID自增</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;该类型请确保数据库设置了 ID自增 否则无效&lt;/p&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    AUTO(<span class="number">0</span>),</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 该类型为未设置主键类型(注解里等于跟随全局,全局里约等于 INPUT)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    NONE(<span class="number">1</span>),</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户输入ID</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;该类型可以通过自己注册自动填充插件进行填充&lt;/p&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    INPUT(<span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 以下3种类型、只有当插入对象ID 为空，才自动填充。 */</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 分配ID (主键类型为number或string）,</span></span><br><span class="line"><span class="comment">     * 默认实现类 &#123;<span class="doctag">@link</span> com.baomidou.mybatisplus.core.incrementer.DefaultIdentifierGenerator&#125;(雪花算法)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 3.3.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    ASSIGN_ID(<span class="number">3</span>),</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 分配UUID (主键类型为 string)</span></span><br><span class="line"><span class="comment">     * 默认实现类 &#123;<span class="doctag">@link</span> com.baomidou.mybatisplus.core.incrementer.DefaultIdentifierGenerator&#125;(UUID.replace(&quot;-&quot;,&quot;&quot;))</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    ASSIGN_UUID(<span class="number">4</span>),</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// 省略部分代码.....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-1-4-普通列注解-TableField"><a href="#3-1-4-普通列注解-TableField" class="headerlink" title="3.1.4  普通列注解- @TableField"></a>3.1.4  普通列注解- @TableField</h3><p>作用：</p>
<p>1）@TableField(“user_name”) 指定映射关系；以下情况可以省略：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1</span> <span class="string">名称一样</span></span><br><span class="line"><span class="attr">2</span> <span class="string">数据库字段使用_分割，实体类属性名使用驼峰名称</span></span><br></pre></td></tr></table></figure>

<p>2）忽略某个字段的查询和插入 <code>@TableField(exist = false)</code></p>
<h3 id="3-1-5-具体使用"><a href="#3-1-5-具体使用" class="headerlink" title="3.1.5 具体使用"></a>3.1.5 具体使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实体类的属性名和数据库的字段名自动映射：</span></span><br><span class="line"><span class="comment"> *  1. 名称一样</span></span><br><span class="line"><span class="comment"> *  2. 数据库字段使用_分割，实体类属性名使用驼峰名称</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TableName(&quot;tb_user&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">//1 建立对象属性与表格字段对应关系</span></span><br><span class="line">    <span class="meta">@TableField(&quot;t_name&quot;)</span> </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2 驼峰原则，可以省略，依然可以对应上关系。</span></span><br><span class="line">    <span class="comment">//@TableField(&quot;user_name&quot;) </span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3 指定表中不存在该字段，在进行操作时，忽略该字段</span></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2-删除"><a href="#3-2-删除" class="headerlink" title="3.2 删除"></a>3.2 删除</h2><p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008114022226.png" alt="image-20201008114022226"></p>
<h3 id="3-2-1-根据id删除"><a href="#3-2-1-根据id删除" class="headerlink" title="3.2.1 根据id删除"></a>3.2.1 根据id删除</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = userMapper.deleteById(<span class="number">8L</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-2-2-根据id集合批量删除"><a href="#3-2-2-根据id集合批量删除" class="headerlink" title="3.2.2 根据id集合批量删除"></a>3.2.2 根据id集合批量删除</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id集合批量删除</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = userMapper.deleteBatchIds(Arrays.asList(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">        assertEquals(<span class="number">2</span>,count,<span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">或者是：</span><br><span class="line">List ids = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    ids.add(<span class="number">6</span>);</span><br><span class="line">    ids.add(<span class="number">7</span>);</span><br><span class="line">userMapper.deleteBatchIds(ids);</span><br></pre></td></tr></table></figure>

<h3 id="3-2-3-根据map构造条件，删除"><a href="#3-2-3-根据map构造条件，删除" class="headerlink" title="3.2.3 根据map构造条件，删除"></a>3.2.3 根据map构造条件，删除</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 根据map条件删除集合批量删除</span></span><br><span class="line"><span class="comment">    * map key：table中字段名称 value：查询指定字段等于该值的数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">       HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       map.put(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;赵二伤&quot;</span>);</span><br><span class="line">       map.put(<span class="string">&quot;age&quot;</span>,<span class="number">25</span>);</span><br><span class="line">       <span class="comment">//delete from tb_user where user_name = ? and age = ?</span></span><br><span class="line">       <span class="keyword">int</span> count = userMapper.deleteByMap(map);</span><br><span class="line">       assertEquals(<span class="number">1</span>,count,<span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-更新"><a href="#3-3-更新" class="headerlink" title="3.3 更新"></a>3.3 更新</h2><p><img src="E:\java\01-重要部分：2021基础就业\04阶段：热门框架\04-热门框架\day12-Mybatis-Plus\讲义\assets\image-20201008114912504.png" alt="image-20201008114912504"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试根据id更新</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User().setId(<span class="number">1l</span>).setName(<span class="string">&quot;赵丽颖&quot;</span>).setAge(<span class="number">35</span>).setPassword(<span class="string">&quot;1234&quot;</span>).setUserName(<span class="string">&quot;美女666&quot;</span>).setEmail(<span class="string">&quot;4444@qq.com&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> count = userMapper.updateById(user);</span><br><span class="line">    assertEquals(<span class="number">1</span>,count,<span class="string">&quot;更新失败&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="4-查询"><a href="#4-查询" class="headerlink" title="4 查询"></a>4 查询</h1><p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008115031886.png" alt="image-20201008115031886"></p>
<h2 id="4-1-分页查询"><a href="#4-1-分页查询" class="headerlink" title="4.1 分页查询"></a>4.1 分页查询</h2><p>配置 拦截器; 学到现在，<strong>配置类要自己学会配置啊,更多的是要学会配置方法。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 根据官方指南，需要MybatisPlusInterceptor 对象，那就定义一个方法，返回该类型对象</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2</span> 直接定位到MybatisPlusInterceptor类，看起有什么属性，直接set方法赋值就好。</span><br><span class="line">    如需要PaginationInnerInterceptor对象，我们<span class="keyword">new</span>一个对象，然后set赋值。</span><br><span class="line">    PaginationInnerInterceptor innerInterceptor = <span class="keyword">new</span> PaginationInnerInterceptor();</span><br><span class="line">	interceptor.addInnerInterceptor(innerInterceptor);</span><br><span class="line"><span class="number">3</span> PaginationInnerInterceptor对象也是肯定需要给属性赋值，</span><br><span class="line">    定位到同样定位到PaginationInnerInterceptor类，查看有什么属性，然后赋值...</span><br><span class="line">        innerInterceptor.setMaxLimit(-<span class="number">1l</span>);</span><br><span class="line">        innerInterceptor.setOverflow(<span class="keyword">true</span>);</span><br><span class="line">        innerInterceptor.setOptimizeJoin(<span class="keyword">true</span>);</span><br><span class="line">        innerInterceptor.setDbType(DbType.MYSQL);</span><br></pre></td></tr></table></figure>

<p>配置类如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title">mybatisPlusInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        MybatisPlusInterceptor interceptor = <span class="keyword">new</span> MybatisPlusInterceptor();</span><br><span class="line">        <span class="comment">//注册分页插件 使用mybatisplu内部提供的分页插件</span></span><br><span class="line">        PaginationInnerInterceptor innerInterceptor = <span class="keyword">new</span> PaginationInnerInterceptor();</span><br><span class="line">        <span class="comment">//-1表示pageSize不设限，默认500</span></span><br><span class="line">        innerInterceptor.setMaxLimit(-<span class="number">1l</span>);</span><br><span class="line">        innerInterceptor.setOverflow(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">//     * 生成 countSql 优化掉 join</span></span><br><span class="line">        <span class="comment">//     * 现在只支持 left join</span></span><br><span class="line">        innerInterceptor.setOptimizeJoin(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">//指定操纵的数据库类型</span></span><br><span class="line">        innerInterceptor.setDbType(DbType.MYSQL);</span><br><span class="line">        interceptor.addInnerInterceptor(innerInterceptor);</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>查询测试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 分页查询：</span></span><br><span class="line"><span class="comment">  *  1. 当前页码：currentPage</span></span><br><span class="line"><span class="comment">  *  2. 每页显示条数：size</span></span><br><span class="line"><span class="comment">  *  注意：使用mp的分页要设置一个拦截器！！！</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">       <span class="comment">//创建分页对象</span></span><br><span class="line">        IPage&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;();</span><br><span class="line">        <span class="comment">//设置当前页</span></span><br><span class="line">        page.setCurrent(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//设置分页的大小</span></span><br><span class="line">        page.setSize(<span class="number">4</span>);</span><br><span class="line">        IPage&lt;User&gt; page2 = userMapper.selectPage(page, <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">//数据直接在page获取即可</span></span><br><span class="line">        userMapper.selectPage(page, <span class="keyword">null</span>);</span><br><span class="line">        System.out.println(page==page2);</span><br><span class="line">        <span class="comment">//获取查询记录数</span></span><br><span class="line">        List&lt;User&gt; records = page2.getRecords();</span><br><span class="line">        System.out.println(records);</span><br><span class="line">        <span class="comment">//获取总页数</span></span><br><span class="line">        <span class="keyword">long</span> pages = page2.getPages();</span><br><span class="line">        System.out.println(pages);</span><br><span class="line">        <span class="comment">//分页大小</span></span><br><span class="line">        <span class="keyword">long</span> size = page2.getSize();</span><br><span class="line">        System.out.println(size);</span><br><span class="line">        <span class="keyword">long</span> current = page2.getCurrent();</span><br><span class="line">        <span class="comment">//获取当前页码</span></span><br><span class="line">        System.out.println(current);</span><br><span class="line">        <span class="comment">//获取总记录数</span></span><br><span class="line">        <span class="keyword">long</span> total = page2.getTotal();</span><br><span class="line">        System.out.println(total);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-2-条件构造器查询"><a href="#4-2-条件构造器查询" class="headerlink" title="4.2 条件构造器查询"></a>4.2 条件构造器查询</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基础比较查询</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Wrapper:</span></span><br><span class="line"><span class="comment"> *  1.QueryWrapper</span></span><br><span class="line"><span class="comment"> *      LambdaQueryWrapper</span></span><br><span class="line"><span class="comment"> *  2.UpdateWrapper</span></span><br><span class="line"><span class="comment"> *      LambdaUpdateWrapper</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-1-基础查询"><a href="#4-2-1-基础查询" class="headerlink" title="4.2.1 基础查询"></a>4.2.1 基础查询</h3><p>通过 QueryWrapper 指定查询条件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">eq( ) :  等于 =</span><br><span class="line">ne( ) :  不等于 &lt;&gt;</span><br><span class="line">gt( ) :  大于 &gt;</span><br><span class="line">ge( ) :  大于等于  &gt;=</span><br><span class="line">lt( ) :  小于 &lt;</span><br><span class="line">le( ) :  小于等于 &lt;=</span><br><span class="line">between ( ) :  BETWEEN 值1 AND 值2 </span><br><span class="line">notBetween ( ) :  NOT BETWEEN 值1 AND 值2 </span><br><span class="line">in( ) :  in</span><br><span class="line">notIn( ) ：not in</span><br></pre></td></tr></table></figure>

<p>注意下面的查询关系是 “与”的关系，想要或的关系，且看下一个代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper1</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">  QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 封装查询条件</span></span><br><span class="line">  wrapper.like(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;%伤%&quot;</span>)</span><br><span class="line">    .eq(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>)</span><br><span class="line">    .in(<span class="string">&quot;age&quot;</span>,<span class="number">19</span>,<span class="number">25</span>,<span class="number">29</span>)</span><br><span class="line">    .orderByDesc(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;id&quot;</span>);   <span class="comment">// 降序   升序：asc</span></span><br><span class="line">  List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">  System.out.println(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-2-逻辑查询-or"><a href="#4-2-2-逻辑查询-or" class="headerlink" title="4.2.2 逻辑查询 or"></a>4.2.2 逻辑查询 or</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">or( ) ：让紧接着下一个方法用or连接 ;默认值为true，false时相当与 and</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">    <span class="comment">//2.设置条件</span></span><br><span class="line">    wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">        .or()</span><br><span class="line">        .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)</span><br><span class="line">        .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">            select * from tb_user where user_name = ? or age &lt; ? and name in (?,?)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">    System.out.println(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-3-模糊查询-like"><a href="#4-2-3-模糊查询-like" class="headerlink" title="4.2.3 模糊查询 like"></a>4.2.3 模糊查询 like</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">like</span><br><span class="line">notLike</span><br><span class="line">likeLeft</span><br><span class="line">likeRight</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * like 模糊搜索</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test10</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//底层自动给赵添加通配符===》 %赵%</span></span><br><span class="line"><span class="comment">//        wrapper.like(&quot;user_name&quot;,&quot;赵&quot;)</span></span><br><span class="line">        <span class="comment">//底层自动给伤添加通配符===》 %伤</span></span><br><span class="line"><span class="comment">//        wrapper.likeLeft(&quot;user_name&quot;,&quot;伤&quot;);</span></span><br><span class="line">        <span class="comment">//底层自动给赵添加通配符===》 赵%</span></span><br><span class="line">        wrapper.likeRight(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;赵&quot;</span>);</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-4-排序查询"><a href="#4-2-4-排序查询" class="headerlink" title="4.2.4  排序查询"></a>4.2.4  排序查询</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">orderBy</span><br><span class="line">orderByAsc</span><br><span class="line">orderByDesc</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>)</span><br><span class="line">                <span class="comment">//.orderBy(true,true,&quot;age&quot;)</span></span><br><span class="line">                .orderByDesc(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            select * from tb_user where user_name = ? or age &lt; ? and name in (?,?) order by age asc</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-5-select：指定需要查询的字段"><a href="#4-2-5-select：指定需要查询的字段" class="headerlink" title="4.2.5  select：指定需要查询的字段"></a>4.2.5  select：指定需要查询的字段</h3><p>.select(字段1，字段2…)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建查询条件构建器</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.设置条件</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>,<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>)</span><br><span class="line">                <span class="comment">//.orderBy(true,true,&quot;age&quot;)</span></span><br><span class="line">                .orderByDesc(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">                .select(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;user_name&quot;</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            select id,user_name from tb_user where user_name = ? or age &lt; ? and name in (?,?) order by age asc</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-6-分页条件查询"><a href="#4-2-6-分页条件查询" class="headerlink" title="4.2.6  分页条件查询"></a>4.2.6  分页条件查询</h3><p>注意：<strong>这里是根据查询到的结果再对结果进行分页查询</strong>哦！！！千万别搞混了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper6</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> current = <span class="number">1</span>;<span class="comment">//当前页码</span></span><br><span class="line">        <span class="keyword">int</span> size = <span class="number">2</span>;<span class="comment">//每页显示条数</span></span><br><span class="line">        <span class="comment">//1. 构建分页对象</span></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(current,size);</span><br><span class="line">        <span class="comment">//2. 构建条件对象</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper();</span><br><span class="line">        wrapper.lt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        userMapper.selectPage(page,wrapper);</span><br><span class="line">        List&lt;User&gt; records = page.getRecords();</span><br><span class="line">        <span class="keyword">long</span> total = page.getTotal();</span><br><span class="line">        <span class="keyword">long</span> pages = page.getPages();</span><br><span class="line">        System.out.println(records);</span><br><span class="line">        System.out.println(total);<span class="comment">//2</span></span><br><span class="line">        System.out.println(pages);<span class="comment">//1</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-7-LambdaQueryWrapper"><a href="#4-2-7-LambdaQueryWrapper" class="headerlink" title="4.2.7  LambdaQueryWrapper"></a>4.2.7  LambdaQueryWrapper</h3><p>目的：消除代码中的硬编码，我们写的字段名称可能跟数据库字段对不上，造成报错。但是实体类中的属性跟数据库字段可是一一对应的，我们直接引用实体类中属性便可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* lamdaQueryWrap</span><br><span class="line">*        使用QueryWrapper缺点：</span><br><span class="line">*        <span class="number">1.</span>table的列名硬编码写入，不方便维护</span><br><span class="line">*        <span class="number">2.</span>开发不方便，容器写错；</span><br><span class="line">*         wrapper.eq(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>)</span><br><span class="line">*                 .or(<span class="keyword">false</span>)</span><br><span class="line">*                  .in(<span class="string">&quot;t_name&quot;</span>,Arrays.asList(<span class="string">&quot;周五输&quot;</span>,<span class="string">&quot;郑七灭&quot;</span>,<span class="string">&quot;王八衰&quot;</span>))</span><br><span class="line">*                  .between(<span class="string">&quot;id&quot;</span>,<span class="number">6l</span>,<span class="number">10l</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test12</span><span class="params">()</span>  </span>&#123;</span><br><span class="line"><span class="comment">//        LambdaQueryWrapper&lt;User&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();</span></span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; lambdaQuery = Wrappers.lambdaQuery();</span><br><span class="line">        lambdaQuery.eq(User::getAge,<span class="number">20</span>)</span><br><span class="line">                    .or()</span><br><span class="line">                    .in(User::getName,Arrays.asList(<span class="string">&quot;周五输&quot;</span>,<span class="string">&quot;郑七灭&quot;</span>,<span class="string">&quot;王八衰&quot;</span>))</span><br><span class="line">                     .between(User::getId,<span class="number">6l</span>,<span class="number">10l</span>) ;</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(lambdaQuery);</span><br><span class="line">        System.out.println(users);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User</span>:<span class="string">:getUserName();</span></span><br><span class="line"><span class="attr">-&gt;获取字段名称：name</span></span><br><span class="line"><span class="attr">-&gt;反射获取字段对应的Field对象</span></span><br><span class="line"><span class="attr">-&gt;getAnnotation-&gt;获取t_name</span></span><br></pre></td></tr></table></figure>



<h3 id="4-2-8-条件删除"><a href="#4-2-8-条件删除" class="headerlink" title="4.2.8  条件删除"></a>4.2.8  条件删除</h3><p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008121325431.png" alt="image-20201008121325431"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 条件删除</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper5</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">  LambdaQueryWrapper&lt;User&gt; wrapper = Wrappers.&lt;User&gt;lambdaQuery().eq(User::getUserName, <span class="string">&quot;武大郎&quot;</span>);</span><br><span class="line">  <span class="keyword">int</span> i = userMapper.delete(wrapper);</span><br><span class="line">  System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-9-条件-update"><a href="#4-2-9-条件-update" class="headerlink" title="4.2.9  条件 update"></a>4.2.9  条件 update</h3><p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/image-20201008121332555.png" alt="image-20201008121332555"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper6</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">  <span class="comment">// 参数1： 最新的值</span></span><br><span class="line">  User user = <span class="keyword">new</span> User();</span><br><span class="line">  user.setUserName(<span class="string">&quot;张三丰&quot;</span>);</span><br><span class="line">  <span class="comment">// 参数2：更新时条件</span></span><br><span class="line">  LambdaQueryWrapper&lt;User&gt; wrapper = Wrappers.&lt;User&gt;lambdaQuery();</span><br><span class="line">  wrapper.eq(User::getId, <span class="number">15</span>);</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// UPDATE tb_user SET t_name=? WHERE (id = ?)</span></span><br><span class="line">  <span class="keyword">int</span> update = userMapper.update(user, wrapper);</span><br><span class="line">  System.out.println(update);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWrapper7</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">  <span class="comment">// 参数1： 最新的值</span></span><br><span class="line">  <span class="comment">// 参数2：更新时条件</span></span><br><span class="line">  LambdaUpdateWrapper&lt;User&gt; wrapper = Wrappers.&lt;User&gt;lambdaUpdate();</span><br><span class="line">  wrapper.eq(User::getId, <span class="number">15</span>)</span><br><span class="line">    .set(User::getUserName, <span class="string">&quot;张三丰666&quot;</span>)</span><br><span class="line">    .set(User::getName,<span class="string">&quot;zsf666&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// UPDATE tb_user SET t_name=?, user_name=? WHERE (id = ?)</span></span><br><span class="line">  <span class="keyword">int</span> update = userMapper.update(<span class="keyword">null</span>, wrapper);</span><br><span class="line">  System.out.println(update);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="5-service-封装"><a href="#5-service-封装" class="headerlink" title="5 service 封装"></a>5 service 封装</h1><p>Mybatis-Plus 为了开发更加快捷，<strong>对业务层也进行了封装，直接提供了相关的接口和实现类</strong>。我们在进行业务层开发时，可以继承它提供的接口和实现类，使得编码更加高效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 1. 定义接口继承IService</span><br><span class="line">- 2. 定义1中接口的实现类继承ServiceImpl&lt;Mapper，Entity&gt; 实现定义的接口</span><br></pre></td></tr></table></figure>

<p>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> <span class="keyword">extends</span> <span class="title">IService</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现类封装</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title">ServiceImpl</span>&lt;<span class="title">UserMapper</span>, <span class="title">User</span>&gt; <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>测试代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试通用service实现</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test16</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    User user = userService.getById(<span class="number">2l</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了上面service层的成功实现，我们上面所有在@Test 敲的代码都可以使用web层（springMVC）去调用service层方法来实现啦，哈哈哈哈；只不过service层跟mapper层的方法稍有不同，但是除了方法名不同其用法几乎相同，而且虽然方法名称不同，但是可以见其名便知其意。（其实也可以在springMVC直接调mapper持久层代码哈）</p>
<p><strong>编写Controller</strong>  </p>
<p>注意，测试post跟put时，传入的参数是对象，因此要在形参user前添加@RequestBody注解，而且在浏览器端要带上Content-Type:application/json 这个请求头。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.heima.controller;</span><br><span class="line">(略)</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Api(tags = &quot;用户操纵User的接口&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加用户信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//@ApiOperation(value = &quot;用户添加的接口&quot;)</span></span><br><span class="line">    <span class="comment">//@ApiImplicitParam(name = &quot;user&quot;,value = &quot;用户对象信息&quot;,required = true,dataType = &quot;com.heima.pojo.User&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">addUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        userService.save(user);<span class="comment">// 保存成功， 主键会自动封装到 User的主键属性上!!!</span></span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id删除用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Boolean <span class="title">deleteByUserId</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span>Long id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> isSuccess = userService.removeById(id);</span><br><span class="line">        <span class="keyword">return</span> isSuccess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户更新</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; wrapper = Wrappers.lambdaQuery();</span><br><span class="line">        wrapper.eq(User::getId,user.getId());</span><br><span class="line">       <span class="keyword">return</span> userService.update(user,wrapper);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id 查询用户信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findByUserId</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span></span>&#123;</span><br><span class="line">        User user = userService.getById(id);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据分页和姓名模糊查询</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> curPage</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pageSize</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;curPage&#125;/&#123;pageSize&#125;/&#123;userName&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findPage</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@PathVariable(&quot;curPage&quot;)</span> Integer curPage,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@PathVariable(&quot;pageSize&quot;)</span> Integer pageSize,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@PathVariable(&quot;userName&quot;)</span>String userName)</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.创建分页对象</span></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(curPage, pageSize);</span><br><span class="line">        <span class="comment">//2.查询条件对象</span></span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; queryWrapper = Wrappers.lambdaQuery(User.class);</span><br><span class="line">        queryWrapper.like(User::getUserName,userName);</span><br><span class="line">        userService.page(page, queryWrapper);</span><br><span class="line">        System.out.println(page.getCurrent());</span><br><span class="line">        System.out.println(page.getSize());</span><br><span class="line">        System.out.println(page.getTotal());</span><br><span class="line">        <span class="keyword">return</span> page.getRecords();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="6-逆向工程-代码生成器"><a href="#6-逆向工程-代码生成器" class="headerlink" title="6 逆向工程-代码生成器"></a>6 逆向工程-代码生成器</h1><h2 id="6-1-代码生成说明"><a href="#6-1-代码生成说明" class="headerlink" title="6.1 代码生成说明"></a>6.1 代码生成说明</h2><p>当有一个新的业务实现时，对接口的功能实现上，我们通常来说需要构建下面的信息：</p>
<ul>
<li><p><strong>POJO类</strong></p>
<p>数据库表和实体类的映射 Java Bean。</p>
</li>
<li><p><strong>DAO层</strong></p>
<p>需要编写接口 Mapper ，接口 Mapper 需要去继承 MP 中的 BaseMapper 接口。</p>
</li>
<li><p><strong>Service层</strong></p>
<p>编写 Service 层接口和实现类。业务接口需要去继承 MP 中的 IService，业务实现类需要继承 MP 中的 ServiceImpl 和 实现业务接口。</p>
</li>
<li><p><strong>Controller层</strong></p>
<p>编写 Controller 并标注 Spring MVC 中的相关注解。</p>
</li>
</ul>
<p>​       从上面的各类代码中可以放下，代码都是模板性的，如果用手工copy、修改的方式来实现，太烦人也没效率，而这时就是代码生成器小展身手的时候，<strong>使用代码生成器生成模板性的代码，减少手工操作的繁琐，集中精力在业务开发上，提升开发效率。</strong></p>
<p>​    <strong>AutoGenerator</strong> 是 MyBatis-Plus 的代码生成器，通过 AutoGenerator 可以<strong>快速生成 Mapper接口、Entity实体类、Mapper XML、Service、Controller 等各个模块</strong>的代码，极大的提升了开发效率。</p>
<h2 id="6-2-代码生成"><a href="#6-2-代码生成" class="headerlink" title="6.2 代码生成"></a>6.2 代码生成</h2><p>“代码生成”项目见gitee开源链接：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="string">//gitee.com/jitheima/mp_generator.git</span></span><br></pre></td></tr></table></figure>

<p>完整代码：</p>
<p>​    <img src=" /img/java/04阶段热门框架/day12-Mybatis-Plus/image-20210507183611881.png" alt="image-20210507183611881" style="zoom:50%;" /></p>
<p>具体使用请查看gitee链接里面的readme.md文件吧。</p>
<p>以后在项目中使用，在这里生成后，可以把代码拷贝到对应的目录里使用</p>
<h1 id="7-MybatisX插件"><a href="#7-MybatisX插件" class="headerlink" title="7 MybatisX插件"></a>7 MybatisX插件</h1><p>MybatisX 是一款基于 IDEA 的快速开发插件，为效率而生。</p>
<p>安装方法：打开 IDEA，进入 File -&gt; Settings -&gt; Plugins -&gt; Browse Repositories，输入 <code>mybatisx</code> 搜索并安装。</p>
<p>功能：</p>
<ul>
<li>Java 与 XML 调回跳转</li>
<li>Mapper 方法自动生成 XML </li>
</ul>
<p><img src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/mybatisx-001.gif"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">高明辉</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/04/28/Mybatis-Plus/">http://example.com/2022/04/28/Mybatis-Plus/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Jason</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Mybatis-Plus/">Mybatis-Plus</a></div><div class="post_share"><div class="social-share" data-image="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day12-Mybatis-Plus/%E5%B0%81%E9%9D%A2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="添加微信"/></a><div class="post-qr-code-desc">添加微信</div></li><li class="reward-item"><a href="/img/pay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/pay.jpg" alt="付款码"/></a><div class="post-qr-code-desc">付款码</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/28/swagger2%E7%9A%84%E4%BD%BF%E7%94%A8/"><img class="prev-cover" src="/img/java/04%E9%98%B6%E6%AE%B5%E7%83%AD%E9%97%A8%E6%A1%86%E6%9E%B6/day10-day11springboot+/%E5%B0%81%E9%9D%A2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">swagger2的使用</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/27/lombok%E4%BE%9D%E8%B5%96%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"><img class="next-cover" src="/img/%E4%B8%BB%E9%A1%B5%E9%9D%A2%E5%9B%BE%E7%89%87.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">lombok依赖库的使用</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis-Plus"><span class="toc-number">1.</span> <span class="toc-text">Mybatis Plus</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-MybatisPlus%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">1 MybatisPlus概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">3.</span> <span class="toc-text">2 快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 数据库环境准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E5%BC%95%E5%85%A5%E5%9C%BA%E6%99%AF%E4%BE%9D%E8%B5%96"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 创建工程，引入场景依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E7%BC%96%E5%86%99DataSource%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">2.3 编写DataSource相关配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E7%BC%96%E7%A0%81"><span class="toc-number">3.4.</span> <span class="toc-text">2.4  编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E6%B5%8B%E8%AF%95"><span class="toc-number">3.5.</span> <span class="toc-text">2.5 测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-CRUD"><span class="toc-number">4.</span> <span class="toc-text">3 CRUD</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%96%B0%E5%A2%9E"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 新增</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-%E6%96%B9%E6%B3%95%E8%A7%A3%E6%9E%90"><span class="toc-number">4.1.1.</span> <span class="toc-text">3.1.1 方法解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-%E6%B5%8B%E8%AF%95"><span class="toc-number">4.1.2.</span> <span class="toc-text">3.1.2 测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-%E4%B8%BB%E9%94%AE%E7%94%9F%E6%88%90%E7%AD%96%E7%95%A5-TableId"><span class="toc-number">4.1.3.</span> <span class="toc-text">3.1.3 主键生成策略-@TableId</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-4-%E6%99%AE%E9%80%9A%E5%88%97%E6%B3%A8%E8%A7%A3-TableField"><span class="toc-number">4.1.4.</span> <span class="toc-text">3.1.4  普通列注解- @TableField</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-5-%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.5.</span> <span class="toc-text">3.1.5 具体使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 删除</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E6%A0%B9%E6%8D%AEid%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.1.</span> <span class="toc-text">3.2.1 根据id删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E6%A0%B9%E6%8D%AEid%E9%9B%86%E5%90%88%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.2.</span> <span class="toc-text">3.2.2 根据id集合批量删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-%E6%A0%B9%E6%8D%AEmap%E6%9E%84%E9%80%A0%E6%9D%A1%E4%BB%B6%EF%BC%8C%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.3.</span> <span class="toc-text">3.2.3 根据map构造条件，删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E6%9B%B4%E6%96%B0"><span class="toc-number">4.3.</span> <span class="toc-text">3.3 更新</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.</span> <span class="toc-text">4 查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.1.</span> <span class="toc-text">4.1 分页查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.</span> <span class="toc-text">4.2 条件构造器查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.1.</span> <span class="toc-text">4.2.1 基础查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E9%80%BB%E8%BE%91%E6%9F%A5%E8%AF%A2-or"><span class="toc-number">5.2.2.</span> <span class="toc-text">4.2.2 逻辑查询 or</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2-like"><span class="toc-number">5.2.3.</span> <span class="toc-text">4.2.3 模糊查询 like</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.4.</span> <span class="toc-text">4.2.4  排序查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-5-select%EF%BC%9A%E6%8C%87%E5%AE%9A%E9%9C%80%E8%A6%81%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.5.</span> <span class="toc-text">4.2.5  select：指定需要查询的字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-6-%E5%88%86%E9%A1%B5%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.6.</span> <span class="toc-text">4.2.6  分页条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-7-LambdaQueryWrapper"><span class="toc-number">5.2.7.</span> <span class="toc-text">4.2.7  LambdaQueryWrapper</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-8-%E6%9D%A1%E4%BB%B6%E5%88%A0%E9%99%A4"><span class="toc-number">5.2.8.</span> <span class="toc-text">4.2.8  条件删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-9-%E6%9D%A1%E4%BB%B6-update"><span class="toc-number">5.2.9.</span> <span class="toc-text">4.2.9  条件 update</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-service-%E5%B0%81%E8%A3%85"><span class="toc-number">6.</span> <span class="toc-text">5 service 封装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">6 逆向工程-代码生成器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E8%AF%B4%E6%98%8E"><span class="toc-number">7.1.</span> <span class="toc-text">6.1 代码生成说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90"><span class="toc-number">7.2.</span> <span class="toc-text">6.2 代码生成</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-MybatisX%E6%8F%92%E4%BB%B6"><span class="toc-number">8.</span> <span class="toc-text">7 MybatisX插件</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 高明辉</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'Aaee0Vekhg5KbLhMOJQrEU6A-gzGzoHsz',
      appKey: 'mmLHPEEtqvOSJhsqWra8Sq6K',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script type="text/javascript" src="/js/fairyDustCursor.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>